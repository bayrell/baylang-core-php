(Runtime="undefined"==typeof Runtime?{}:Runtime).rtl=class{static LOG_FATAL=0;static LOG_CRITICAL=2;static LOG_ERROR=4;static LOG_WARNING=6;static LOG_INFO=8;static LOG_DEBUG=10;static LOG_DEBUG2=12;static STATUS_PLAN=0;static STATUS_DONE=1;static STATUS_PROCESS=100;static STATUS_FAIL=-1;static ERROR_NULL=0;static ERROR_OK=1;static ERROR_PROCCESS=100;static ERROR_FALSE=-100;static ERROR_RUNTIME=-1;static ERROR_UNKNOWN=-1;static ERROR_INDEX_OUT_OF_RANGE=-2;static ERROR_STOP_ITERATION=-3;static ERROR_ITEM_NOT_FOUND=-5;static ERROR_OBJECT_ALLREADY_EXISTS=-6;static ERROR_ASSERT=-7;static ERROR_REQUEST=-8;static ERROR_RESPONSE=-9;static ERROR_CSRF_TOKEN=-10;static ERROR_VALIDATION=-12;static ERROR_SERIALIZATION=-14;static ERROR_ASSIGN=-15;static ERROR_AUTH=-16;static ERROR_DUPLICATE=-17;static ERROR_API_NOT_FOUND=-18;static ERROR_API_WRONG_FORMAT=-19;static ERROR_API_WRONG_APP_NAME=-20;static ERROR_API=-21;static ERROR_CURL=-22;static ERROR_FATAL=-99;static ERROR_HTTP_CONTINUE=-100;static ERROR_HTTP_SWITCH=-101;static ERROR_HTTP_PROCESSING=-102;static ERROR_HTTP_OK=-200;static ERROR_HTTP_BAD_GATEWAY=-502;static ERROR_USER=-1e4;static ALLOW_OBJECTS=1;static JSON_PRETTY=8;static defClass(e){null==Runtime.rtl._classes&&(Runtime.rtl._classes={}),Runtime.rtl._classes[e.getClassName()]=e}static findClass(e){return"string"==typeof e?e="undefined"!=typeof window?window[e]:use(e):!e||e instanceof Function||(e=e.constructor),null==e?null:e}static className(e){return this.isString(e)?e:(e=this.findClass(e))&&e.getClassName?e.getClassName():""}static parentClassName(e){var e=this.findClass(e);return e&&e.extends&&e.extends.name?e.extends.name:(e=e?Object.getPrototypeOf(e):null)&&e.getClassName?e.getClassName():""}static getParents(e,t){null==t&&(t="");var i=Runtime.Vector.create([]);let n=e;for(;""!=n&&n!=t;)i.push(n),n=this.parentClassName(n);return i}static isInstanceOf(e,t){if(null==e)return!1;if(e=this.className(e),!this.isString(e))return!1;let i=e;for(;""!=i;){if(i==t)return!0;i=this.parentClassName(i)}}static isImplements(e,t){if(null==e)return!1;if(!(e=this.findClass(e)))return!1;for(;null!=e;){if(e.getInterfaces&&0<=e.getInterfaces().indexOf(t))return!0;e=this.findClass(this.parentClassName(e))}}static classExists(e){return null!=this.findClass(e)}static methodExists(e,t){return"object"==typeof e?null!=e[t]:(e=this.findClass(e),!!this.exists(e)&&!!this.exists(e[t]))}static newInstance(e,t){null==t&&(t=null);var i=this.findClass(e);if(this.exists(i)&&i instanceof Function)return(t=(t=null==t?[]:t).slice()).unshift(null),new(Function.prototype.bind.apply(i,t));throw new Runtime.Exceptions.ItemNotFound(e,"class name")}static apply(e,t){return e instanceof Runtime.Method?e.apply(t):e.apply(null,t=t||[])}static assert(e,t){if(!e)throw new Runtime.Exceptions.AssertException(t)}static attr(e,t,i){return null==i&&(i=null),e[t]||i}static setAttr(e,t,i){e[t]=i}static exists(e){return null!=e}static getType(e){return null===e?"null":this.isString(e)?"string":this.isInteger(e)?"integer":this.isFloat(e)?"float":this.isBoolean(e)?"boolean":e instanceof Runtime.Vector?"vector":e instanceof Runtime.Map?"map":"object"}static isBoolean(e){return!0===e||!1===e}static isInteger(e){return"number"==typeof e}static isFloat(e){return"number"==typeof e}static isString(e){return"string"==typeof e||e instanceof String}static isObject(e){return e instanceof use("Runtime.BaseObject")}static isCollection(e){return Array.isArray(e)}static isMap(e){return e instanceof Map}static isFunction(e){return e instanceof Function}static translate(e,t){return Runtime.rtl.getContext().translate(e,t)}static compare(i,n){return null==i&&(i=null),null==n&&(n="asc"),(e,t)=>(i&&(e=i(e),t=i(t)),e==t?0:"asc"==n?e<t?-1:1:t<e?-1:1)}static list(e){return new(this.findClass("Runtime.Vector"))(...e)}static toInt(e){return Number(e)}static toStr(e){var t=use("Runtime.StringInterface");return null===e?"":"string"==typeof e?e:"number"!=typeof e&&!(e instanceof String)&&"object"==typeof e&&this.isImplements(e,t)?e.toString():""+e}static toNative(e){var t=this.findClass("Runtime.Map");return e instanceof this.findClass("Runtime.Vector")?e.map(e=>this.toNative(e)):e instanceof t?e.map(e=>this.toNative(e)).toObject():e}static fromNative(e){return null==e?null:Array.isArray(e)?this.findClass("Runtime.Vector").create(e.map(e=>this.fromNative(e))):"object"==typeof e?this.findClass("Runtime.Map").create(e).map(e=>this.fromNative(e)):e}static assign(e,t,i){return null==i&&(i=Runtime.Vector.create([])),(new Runtime.Serializer.ObjectType).filter(t,i,e)}static serialize(e){return(new Runtime.Serializer.ObjectType).encode(e)}static jsonDecode(e){try{let i=this.findClass("Runtime.Vector"),n=this.findClass("Runtime.Map");e=JSON.parse(e,(e,t)=>null===t?null:Array.isArray(t)?i.create(t):"object"==typeof t?n.create(t):t)}catch(e){}return e}static jsonEncode(e,t){return null==t&&(t=0),JSON.stringify(e)}static copy(e){var t=this.serialize(e),e=this.newInstance(e.constructor.getClassName());return this.assign(e,t),e}static print(e,t,i){null==t&&(t=!0),null==i&&(i=""),Runtime.rtl.getContext().provider("output").print(e,t,i)}static error(e){Runtime.rtl.getContext().provider("output").error(e)}static color(e,t){return Runtime.rtl.getContext().provider("output").color(e,t)}static log(e,t){Runtime.rtl.getContext().provider("log").log(e,t)}static input(){return Runtime.rtl.getContext().provider("input").input()}static abs(e){return Math.abs(e)}static max(e,t){return t<e?e:t}static min(e,t){return e<t?e:t}static ceil(e){return Math.ceil(e)}static floor(e){return Math.floor(e)}static round(e){return Math.round(e)}static urandom(){var e;return null!=window&&null!=window.crypto&&null!=window.crypto.getRandomValues?(e=new Uint32Array(1),window.crypto.getRandomValues(e),e[0]/4294967296):Math.random()}static random(e,t){return this.round(this.urandom()*(t-e)+e)}static _global_context=null;static getContext(){return Runtime.rtl._global_context||null}static setContext(e){this._global_context=e,window.global_context=e}static async createContext(e){var t=new Runtime.Context(Runtime.Context.initParams(e));return this.setContext(t),await t.init(e),t}static async createApp(e,t){e=Runtime.Map.create({providers:Runtime.Vector.create([new Runtime.Entity.Provider("app",e)]),modules:t}),t=await this.createContext(e);return await t.start(),t}static async runApp(e,t){try{return await(await this.createApp(e,t)).provider("app").main()}catch(e){console.log("[0;31m"+e.stack+"[0m\n")}}static async mount(e,t,i){null==i&&(i=null);var n=(e=this.fromNative(e)).get("environments"),s=e.get("modules"),n=await this.createContext(Runtime.Map.create({environments:n,modules:s}));await n.start();s=n.factory("render").mount(e,t);i&&i(s)}static render(e){return Runtime.rtl.getContext().provider("render").render(e)}static async wait(i){return new Promise((e,t)=>{setTimeout(()=>{e()},i)})}_init(){}static getClassName(){return"Runtime.rtl"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.rtl"]=Runtime.rtl,window.use=Runtime.rtl.findClass,(Runtime="undefined"==typeof Runtime?{}:Runtime).re=class{static split(e,t,i){null==i&&(i=-1);var n=use("Runtime.rtl"),e=new RegExp(e,"g");return n.exists(i)?t.split(e,i):t.split(e)}static match(e,t,i){return i="g"+(i=null==i?"":i),null!=t.match(new RegExp(e,i))}static matchAll(e,t,i){null==i&&(i="");let n=use("Runtime.Vector");i="g"+i;var s=new n,e=new RegExp(e,i);if(null==t.matchAll)for(;null!==(m=e.exec(t));)s.push(m);else s=n.create(t.matchAll(e));return 0==s.length?null:s.map(e=>n.create(e))}static replace(e,t,i,n){return n="g"+(n=null==n?"":n),i.replace(new RegExp(e,n),t)}_init(){}static getClassName(){return"Runtime.re"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.re"]=Runtime.re,(Runtime="undefined"==typeof Runtime?{}:Runtime).rs=class{static strlen(e){return use("Runtime.rtl").toStr(e).length}static substr(e,t,i){null==i&&(i=null);var n,s=use("Runtime.rtl");return t<0&&(t=e.length+t),null===i?s.toStr(e).substring(t):(n=t+i,i<0&&(n=this.strlen(e)+i),s.toStr(e).substring(t,n))}static charAt(e,t){return this.substr(e,t,1)}static chr(e){return String.fromCharCode(e)}static ord(e){return use("Runtime.rtl").toStr(e).charCodeAt(0)}static lower(e){return use("Runtime.rtl").toStr(e).toLowerCase()}static upper(e){return use("Runtime.rtl").toStr(e).toUpperCase()}static compare(e,t){return e==t?0:e<t?-1:t<e?1:void 0}static replace(e,t,i){return i.replaceAll(e,t)}static str_repeat(e,t){if(t<=0)return"";for(var i="",n=0;n<t;n++)i+=e;return i}static split(e,t,i){null==i&&(i=-1);var n=use("Runtime.rtl"),s=use("Runtime.Vector"),r=null;return n.exists(i)||(r=t.split(e)),r=t.split(e,i),s.create(r)}static splitArr(e,t,i){null==i&&(i=-1);var n=use("Runtime.rtl"),s=use("Runtime.Vector"),r=null,e=new RegExp("["+e.join("")+"]","g"),r=n.exists(i)?t.split(e,i):t.split(e);return s.create(r)}static join(e,t){return null==t?"":Array.prototype.join.call(t,e)}static join_path(e){e=this.join("/",e),e=Runtime.re.replace("\\/+","/",e);return e=Runtime.re.replace("\\/\\.\\/","/",e),Runtime.re.replace("\\/+$","",e)}static trim(e,t){return null==(t=null==t?"":t)&&(t=""),e=use("Runtime.rtl").toStr(e),""==t?e.trim():e.replace(new RegExp("^["+t+"]+","g"),"").replace(new RegExp("["+t+"]+$","g"),"")}static removeFirstSlash(e){let t=0;for(var i=this.strlen(e);t<i&&"/"==this.substr(e,t,1);)t++;return this.substr(e,t)}static removeLastSlash(e){let t=this.strlen(e)-1;for(;0<=t&&"/"==this.substr(e,t,1);)t--;return this.substr(e,0,t+1)}static addFirstSlash(e){return"/"==Runtime.rs.substr(e,0,1)?e:"/"+String(e)}static addLastSlash(e){return"/"==Runtime.rs.substr(e,Runtime.rs.strlen(e)-1,1)?e:e+String("/")}static pathinfo(e){var t=this.split(".",e),i=this.split("/",e),t=t.pop(),n=i.pop(),i=this.join("/",i);let s=this.strlen(t);0<s&&s++;var r=this.substr(n,0,-1*s);return Runtime.Map.create({filepath:e,extension:t,basename:n,dirname:i,filename:r})}static filename(e){e=this.pathinfo(e);let t=e.get("basename");var e=e.get("extension");return""!=e&&(e=0-Runtime.rs.strlen(e)-1,t=Runtime.rs.substr(t,0,e)),t}static basename(e){return this.pathinfo(e).get("basename")}static extname(e){return this.pathinfo(e).get("extension")}static dirname(e){return this.pathinfo(e).get("dirname")}static nl2br(e){return this.replace("\n","<br/>",e)}static spaceless(e){return e=Runtime.re.replace(" +"," ",e),e=Runtime.re.replace("\t","",e),e=Runtime.re.replace("\n","",e)}static indexOf(e,t,i){null==i&&(i=0);var n=use("Runtime.rtl");return n.exists(i)||(i=0),n.toStr(e).indexOf(t)}static url_encode(e){return encodeURIComponent(e)}static htmlDecode(e){let t=0;for(;t<e.length&&" "==e.charAt(t);)t++;var i=(new DOMParser).parseFromString(e.substr(t),"text/html");return this.str_repeat(" ",t)+i.body.textContent}static decodeHtml(e){return this.htmlDecode(e)}static htmlEscape(e){var t;return null==e?"":(t={"<":"&lt;",">":"&gt;","&":"&amp;",'"':"&quot;","'":"&#39;","`":"&#x60;","=":"&#x3D;"},new String(e).replace(/[<>&"'`=]/g,function(e){return t[e]}))}static escapeHtml(e){return this.htmlEscape(e)}static base64_encode(e){return window.btoa(window.unescape(window.encodeURIComponent(e)))}static base64_decode(e){return window.decodeURIComponent(window.escape(window.atob(e)))}static base64_encode_url(e){return e=this.base64_encode(e).replace(new RegExp("\\+","g"),"-").replace(new RegExp("\\/","g"),"_").replace(new RegExp("=","g"),"")}static base64_decode_url(e){var t=4-e.length%4;return t<4&&0<t&&(e+="=".repeat(t)),e=e.replace(new RegExp("-","g"),"+").replace(new RegExp("_","g"),"/"),this.base64_decode(e)}static parse_url(e){var t,i=this.indexOf(e,"#"),n=(e=0<=i?this.substr(e,0,i):e,t=0<=i?this.substr(e,i+1):"",0<=(i=this.indexOf(e,"?"))?this.substr(e,0,i):e),e=0<=i?this.substr(e,i+1):"",i=this.split("&",e).filter(e=>""!=e).transition(e=>{e=this.split("=",e);return Runtime.Vector.create([e[1],e[0]])});return Runtime.Map.create({uri:n,query:e,query_arr:i,hash:t})}static url_get_add(e,t,i){var n=this.parse_url(e),s=n.get("uri"),n=n.get("query");let r=!1,a=this.split("&",n);return a=a.map(e=>this.split("=",e)[0]==t?(r=!0,""!=t&&""!=i?t+String("=")+String(this.htmlEscape(i)):""):e).filter(e=>""!=e),r||""==i||a.push(t+String("=")+String(this.htmlEscape(i))),e=s,e=""!=(n=this.join("&",a))?e+String("?")+String(n):e}static urlGetAdd(t,i){var n=Runtime.rtl.list(i.keys());for(let e=0;e<n.count();e++){var s=n.get(e),r=i.get(s);r&&(t=this.url_get_add(t,s,r))}return t}static strip_tags(t,i){if(null==(i=null==i?null:i))t=Runtime.re.replace("<[^>]+>","",t);else{var n=Runtime.re.matchAll("<[^>]+>",t,"i");if(n)for(let e=0;e<n.count();e++){var s=n[e][0],r=Runtime.re.matchAll("<(\\/|)([a-zA-Z]+)(|[^>]*)>",s,"i");r&&(r=this.lower(r[0][2]),-1==i.indexOf(r))&&(t=this.replace(s,"",t))}}return t=Runtime.rs.trim(Runtime.rs.spaceless(t))}static uid(){}static time_uid(){}static className(e){return Runtime.rs.join(" ",e.map(e=>this.trim(e)).filter(e=>""!=e))}static mergeStyles(t,e){return Runtime.rs.join(" ",e.map(e=>this.trim(e)).filter(e=>""!=e).map(e=>t+String("--")+String(e)))}static hash(t,i,n){null==i&&(i=257),null==n&&(n=1000000007);let s=0;var r=Runtime.rs.strlen(t);for(let e=0;e<r;e++){var a=Runtime.rs.ord(Runtime.rs.charAt(t,e,1));s=(s*i+a)%n}return s}static getCssHash(e){e=Runtime.rs.hash(e,337,65537)+65537,e=Runtime.rs.toHex(337*e%65537);return Runtime.rs.substr(e,-4)}static getComponentHash(e){Runtime.rtl.isString(e)||(e=Runtime.rtl.className(e));var t=Runtime.rtl.getContext().provider("hash");let i=t.get("component_hash");if(i||(i=new Runtime.Map,t.set("component_hash",i)),i.has(e))return i.get(e);var n=Runtime.Vector.create([]);let s=e;for(;""!=s&&"Runtime.Component"!=s;)n.push("h-"+String(this.getCssHash(s))),s=Runtime.rtl.parentClassName(s);t=Runtime.rs.join(" ",n);return i.set(e,t),t}static toHex(e){let t="";for(;0<=e;){var i=15&e;if(e>>=4,t=Runtime.rs.charAt("0123456789abcdef",i)+String(t),0==e)break}return t}static hexdec(e){return parseInt(e,16)}static random_string(t,i){null==t&&(t=8),null==i&&(i="aun");let n="",s="";var r=Runtime.rs.strlen(i);for(let e=0;e<r;e++){var a=i[e];"a"==a&&(n+="qwertyuiopasdfghjklzxcvbnm"),"u"==a?n+="QWERTYUIOPASDFGHJKLZXCVBNM":"n"==a?n+="0123456789":"s"==a&&(n+="!@#$%^&*()-_+='\":;'.,<>?/|~")}var o=Runtime.rs.strlen(n);for(let e=0;e<t;e++){var u=Runtime.rtl.random(0,o-1);s+=n[u]}return s}static format(i,e){return null!=(e=null==e?null:e)&&e.each((e,t)=>{i=Runtime.rs.replace("%"+String(t)+String("%"),e,i)}),i}_init(){}static getClassName(){return"Runtime.rs"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.rs"]=Runtime.rs,(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseObject=class{constructor(){this._init()}static newInstance(e){return Runtime.rtl.newInstance(this.getClassName(),e)}_init(){}static serialize(e){e.setClassName(this.getClassName())}_assign_values(e){if((e=null==e?null:e)instanceof Map)for(var t of e.keys()){var i=e.get(t);this[t]=i}}_init(){}static getClassName(){return"Runtime.BaseObject"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.BaseObject"]=Runtime.BaseObject,(Runtime="undefined"==typeof(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime)?{}:Runtime).HashMap=class{constructor(){this._map=new Map}set(e,t){return this._map.set(e,t),this}get(e){return this._map.get(e)}has(e){return this._map.has(e)}remove(e){return this._map.delete(e),this}_init(){}static getClassName(){return"Runtime.HashMap"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.HashMap"]=Runtime.HashMap,(Runtime="undefined"==typeof Runtime?{}:Runtime).Map=class extends Map{constructor(e=null){super(e?Object.entries(e):null)}copy(){return new Runtime.Map(this.toObject())}toObject(){return Object.fromEntries(this)}concat(e){var t=this.toObject();return new Runtime.Map(Object.assign(t,e.toObject()))}get(e,t){null==t&&(t=null);e=super.get(e);return null!=e?e:t}map(e){var t,i=new Runtime.Map;for(t of this.keys())i.set(t,e(this.get(t),t,this));return i}mapWithKeys(e){var t,i=new Runtime.Map;for(t of this.keys()){var n=e(this.get(t),t,this);i.set(n[1],n[0])}return i}reduce(e,t){for(var i of this.keys())t=e(t,this.get(i),i,this);return t}filter(e){var t,i=new Runtime.Map;for(t of this.keys()){var n=this.get(t);e(n,t,this)&&i.set(t,n)}return i}each(e){for(var t of this.keys())e(this.get(t),t,this)}transition(e){var t,i=new(use("Runtime.Vector"));for(t of this.keys()){var n=this.get(t);i.push(e(n,t,this))}return i}intersect(e){let i=e.transition((e,t)=>[t,e]);return this.filter((e,t)=>i.has(t))}static create(e){return new Runtime.Map(e)}static from(e){return new Runtime.Map(e)}static getNamespace(){return"Runtime"}static getClassName(){return"Runtime.Map"}},window["Runtime.Map"]=Runtime.Map,(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime).Vector=class extends Array{get(e,t=null){return 0<=e&&e<this.length?this[e]:t}set(e,t){0<=e&&e<this.length&&(this[e]=t)}insert(e,t){this.splice(e,0,t)}remove(e){this.splice(e,1)}removeItem(t){var e=this.findIndex(e=>e==t);0<=e&&this.remove(e)}flatten(){for(var e=[],t=0;t<this.length;t++)Array.isArray(this[t])?e=e.concat(this[t].flatten()):e.push(this[t]);return e}find(e){e=this.findIndex(e);return-1==e?null:this[e]}first(e){return 0<this.length?this[0]:e||null}last(e){return 0<this.length?this[this.length-1]:e||null}each(e){super.forEach(e)}transition(i){var n=new(use("Runtime.Map"));for(let t=0;t<this.length;t++){let e=null;e=i?i(this[t],t,this):[this[t],t],n.set(e[1],e[0])}return n}appendItems(e){for(var t of e)this.push(t)}count(){return this.length}removeDuplicates(){for(var e=new Runtime.Vector,t=0;t<this.length;t++)-1==e.indexOf(this[t])&&e.push(this[t]);return e}static create(e){var t;return 1==e.length?((t=new Runtime.Vector).push(e[0]),t):new Runtime.Vector(...e)}static from(e){return this.create(e)}static getNamespace(){return"Runtime"}static getClassName(){return"Runtime.Vector"}},window["Runtime.Vector"]=Runtime.Vector,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ClassException=function(e,t,i){Error.call(this),Error.captureStackTrace(this,this.constructor),this.message=e,this.code=t,this.prev=i},Runtime.Exceptions.ClassException.prototype=Object.create(Error.prototype),Runtime.Exceptions.ClassException.prototype.constructor=Runtime.Exceptions.ClassException,Object.assign(Runtime.Exceptions.ClassException.prototype,{_init:function(){}}),Object.assign(Runtime.Exceptions.ClassException,{getNamespace:function(){return"Runtime.Exceptions"},getClassName:function(){return"Runtime.Exceptions.ClassException"},getParentClassName:function(){return""}}),Runtime.Exceptions.RuntimeException=class extends Runtime.Exceptions.ClassException{constructor(e,t,i){super(e=null==e?"":e,t=null==t?-1:t,i=null==i?null:i),this._init(),this.error_message=e,this.error_code=t,this.prev=i}getPreviousException(){return this.prev}buildErrorMessage(){return this.error_message}getErrorMessage(){return this.error_message}getErrorCode(){return this.error_code}getFileName(){return this.error_file}getErrorLine(){return this.error_line}getErrorPos(){return this.error_pos}toString(){return this.buildErrorMessage()}getTraceStr(){}getTraceCollection(){}_init(){super._init(),this.prev=null,this.error_message="",this.error_code=0,this.error_file="",this.error_line="",this.error_pos=""}static getClassName(){return"Runtime.Exceptions.RuntimeException"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.RuntimeException"]=Runtime.Exceptions.RuntimeException,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ApiError=class extends Runtime.Exceptions.RuntimeException{constructor(e){super((e=null==e?null:e).getErrorMessage(),Runtime.rtl.ERROR_API,e instanceof Runtime.Exceptions.RuntimeException?e:null),e instanceof Runtime.ApiResult&&(this.result=e)}getErrorMessage(){return this.prev.getErrorMessage()}getErrorCode(){return this.prev.getErrorCode()}getFileName(){return this.prev.getFileName()}getErrorLine(){return this.prev.getErrorLine()}getErrorPos(){return this.prev.getErrorPos()}_init(){super._init(),this.result=null}static getClassName(){return"Runtime.Exceptions.ApiError"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.ApiError"]=Runtime.Exceptions.ApiError,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.AssertException=class extends Runtime.Exceptions.RuntimeException{constructor(e,t){null==t&&(t=null),super(e,Runtime.rtl.ERROR_ASSERT,t)}_init(){super._init()}static getClassName(){return"Runtime.Exceptions.AssertException"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.AssertException"]=Runtime.Exceptions.AssertException,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.CurlException=class extends Runtime.Exceptions.RuntimeException{constructor(e,t,i){null==i&&(i=null),super("HTTP error code: "+String(e),Runtime.rtl.ERROR_CURL_ERROR,i),this.http_code=e,this.http_content=t}_init(){super._init(),this.http_code=-1,this.http_content=""}static getClassName(){return"Runtime.Exceptions.CurlException"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.CurlException"]=Runtime.Exceptions.CurlException,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.FieldException=class extends Runtime.Exceptions.RuntimeException{constructor(e,t){null==t&&(t=null),super("Field error",Runtime.rtl.ERROR_UNKNOWN,t),this.data=e}getData(){return this.data}_init(){super._init(),this.data=null}static getClassName(){return"Runtime.Exceptions.FieldException"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Exceptions.DataError"]}},window["Runtime.Exceptions.FieldException"]=Runtime.Exceptions.FieldException,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.IndexOutOfRange=class extends Runtime.Exceptions.RuntimeException{constructor(e,t){null==t&&(t=null),super(Runtime.rtl.translate("Index out of range. Pos: %pos%",Runtime.Map.create({pos:e})),Runtime.rtl.ERROR_INDEX_OUT_OF_RANGE,t)}_init(){super._init()}static getClassName(){return"Runtime.Exceptions.IndexOutOfRange"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.IndexOutOfRange"]=Runtime.Exceptions.IndexOutOfRange,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.ItemNotFound=class extends Runtime.Exceptions.RuntimeException{constructor(e,t,i){null==e&&(e=""),null==t&&(t="Item"),null==i&&(i=null);let n="";super(n=""!=e?Runtime.rs.format("%object% '%name%' not found",Runtime.Map.create({name:e,object:t})):Runtime.rs.format("%object% not found",Runtime.Map.create({object:t})),Runtime.rtl.ERROR_ITEM_NOT_FOUND,i)}_init(){super._init()}static getClassName(){return"Runtime.Exceptions.ItemNotFound"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.ItemNotFound"]=Runtime.Exceptions.ItemNotFound,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Exceptions&&(Runtime.Exceptions={}),Runtime.Exceptions.KeyNotFound=class extends Runtime.Exceptions.RuntimeException{constructor(e,t){null==t&&(t=null),super(Runtime.rtl.translate("Key '%key%' not found",Runtime.Map.create({key:e})),Runtime.rtl.ERROR_KEY_NOT_FOUND,t)}_init(){super._init()}static getClassName(){return"Runtime.Exceptions.KeyNotFound"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Exceptions.KeyNotFound"]=Runtime.Exceptions.KeyNotFound,(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime).ApiResult=class extends Runtime.BaseObject{isError(){return this.code<0}isException(){return this.is_exception}isSuccess(){return 0<this.code}getErrorMessage(){return this.message}getErrorCode(){return this.code}getContent(){var e=Runtime.Map.create({api_name:this.api_name,method_name:this.method_name,code:this.code,message:this.message,data:this.data});return""!=this.error_name&&e.set("error_name",this.error_name),""!=this.error_file&&e.set("error_file",this.error_file),""!=this.error_line&&e.set("error_line",this.error_line),""!=this.error_pos&&e.set("error_pos",this.error_pos),""!=this.error_trace&&e.set("error_trace",this.error_trace),e}importContent(e){return this.api_name=e.get("api_name",""),this.method_name=e.get("method_name",""),this.data=e.get("data",null),this.code=e.get("code",-1),this.message=e.get("message","Unknown error"),this.ob_content=e.get("ob_content",""),this.error_name=e.get("error_name",""),this.error_file=e.get("error_file",""),this.error_line=e.get("error_line",""),this.error_trace=e.get("error_trace",Runtime.Vector.create([])),this.error_pos=e.get("error_pos",""),this.is_exception=""!=this.error_file,this}setData(t){if(null!=t){if(t instanceof Runtime.Dict){var i=t.keys();for(let e=0;e<i.count();e++){var n=i.get(e);this.data.set(n,t.get(n))}}else this.data=t;return this}}success(e){return null==e&&(e=null),this.code=Runtime.rtl.ERROR_OK,this.message="Ok",e&&(e.has("code")?this.code=e.get("code"):this.code=Runtime.rtl.ERROR_OK,e.has("message")?this.message=e.get("message"):this.message="Ok",e.has("data"))&&this.setData(e.get("data")),this}exception(e){return this.code=e.getErrorCode(),this.message=e.getErrorMessage(),this.error_name=e.constructor.getClassName(),this.error_file=e.getFileName(),this.error_line=e.getErrorLine(),this.error_pos=e.getErrorPos(),Runtime.rtl.getContext().env("DEBUG")&&(this.error_trace=e.getTraceCollection()),Runtime.rtl.isImplements(e,"Runtime.Exceptions.DataError")&&(this.data=e.getData()),this.is_exception=!0,this}fail(e){return null==e&&(e=null),this.code=Runtime.rtl.ERROR_UNKNOWN,this.message="Unknown error",e instanceof Runtime.Exceptions.RuntimeException?(this.code=e.getErrorCode(),this.message=e.getErrorMessage(),this.error_name=e.constructor.getClassName(),Runtime.rtl.isImplements(e,"Runtime.Exceptions.DataError")&&(this.data=e.getData())):e instanceof Runtime.Map?(e.has("code")?this.code=e.get("code"):this.code=Runtime.rtl.ERROR_UNKNOWN,e.has("message")?this.message=e.get("message"):this.message="Error",e.has("data")&&this.setData(e.get("data"))):(this.code=Runtime.rtl.ERROR_UNKNOWN,this.message="Error"),this}_init(){super._init(),this.code=0,this.message="",this.data=new Runtime.Map,this.api_name="",this.method_name="",this.ob_content="",this.error_name=null,this.error_file="",this.error_line="",this.error_pos=0,this.error_trace=null,this.is_exception=!1}static getClassName(){return"Runtime.ApiResult"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.ApiResult"]=Runtime.ApiResult,(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseModel=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this.initParams(e),this.initWidget(e),null!=this.layout&&""!=this.component&&this.layout.addComponent(this.component)}initParams(e){e&&(this.parent_widget=e.get("parent_widget"),e.has("layout")?this.layout=e.get("layout"):this.layout=this.parent_widget?this.parent_widget.layout:null,this.component=e.has("component")?e.get("component"):this.component)}initWidget(e){}static serialize(e){e.addType("component",new Runtime.Serializer.StringType)}async loadData(e){}buildTitle(e){}createWidget(e,t){return(t=null==(t=null==t?null:t)?new Runtime.Map:t).has("parent_widget")||t.set("parent_widget",this),Runtime.rtl.newInstance(e,Runtime.Vector.create([t]))}addEventListener(e,t,i){this.listener.add(e,t,i=null==i?100:i)}_init(){super._init(),this.layout=null,this.parent_widget=null,this.listener=new Runtime.Listener(this),this.component=""}static getClassName(){return"Runtime.BaseModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.SerializeInterface"]}},window["Runtime.BaseModel"]=Runtime.BaseModel,(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseLayout=class extends Runtime.BaseModel{initParams(e){super.initParams(e),this.layout=this}initWidget(e){super.initWidget(e),this.initStorage()}initStorage(){this.storage=this.createWidget("Runtime.BaseStorage")}static serialize(e){super.serialize(e),e.addType("components",new Runtime.Serializer.VectorType(new Runtime.Serializer.StringType)),e.addType("current_page_model",new Runtime.Serializer.StringType),e.addType("lang",new Runtime.Serializer.StringType),e.addType("theme",new Runtime.Serializer.StringType),e.addType("title",new Runtime.Serializer.StringType),e.addType("storage",new Runtime.Serializer.ObjectType(Runtime.Map.create({class_name:"Runtime.BaseStorage"}))),e.addType("pages",new Runtime.Serializer.MapType(new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0,extends:"Runtime.BaseModel",create:(e,t,i)=>e.createWidget(t.class_name,i)}))))}addComponent(e){this.components.push(e)}getPageModel(){return this.pages.get(this.current_page_model)}setPageModel(e,t){t=(t=null==t?null:t)||new Runtime.Map,this.current_page_model=e;let i=this.pages.get(e);return i||(i=this.createWidget(e,t),this.pages.set(e,i)),i}setPageTitle(e,t){null==t&&(t=!1);e=Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.TITLE,Runtime.Map.create({layout:this,title:e,title_orig:e,full_title:t}));this.title=e.get("title")}get(e){return this.storage.frontend.get(e)}getSiteName(){return""}url(e,t){return null==t&&(t=null),this.get("router").url(e,t)}sendApi(e){return Runtime.rtl.getContext().provider("api").send(e)}translate(e,t){null==t&&(t=null);e=e.has(this.lang)?e.get(this.lang):e.get(this.getDefaultLang());return Runtime.rs.format(e,t)}getDefaultLang(){return"en"}assets(e){return Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.ASSETS,Runtime.Map.create({layout:this,path:e})).get("path")}static getRequiredComponents(e,t,i){if(!i.has(e)){var n=Runtime.rtl.getParents(e,"Runtime.Component").filter(e=>!i.has(e)),e=(n.each(e=>{i.set(e,!0)}),new Runtime.Method(e,"getRequiredComponents"));if(e.exists()){var s=e.apply();for(let e=0;e<s.count();e++){var r=s.get(e);i.has(r)||this.getRequiredComponents(r,t,i)}}t.appendItems(n)}}getComponents(){var t=new Runtime.Map,e=Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.COMPONENTS,Runtime.Map.create({components:this.components.slice()})),i=Runtime.Vector.create([]),n=e.get("components");for(let e=0;e<n.count();e++){var s=n.get(e);this.constructor.getRequiredComponents(s,i,t)}return i}getStyle(){var t=Runtime.Vector.create([]),i=this.getComponents();for(let e=0;e<i.count();e++){var n=i.get(e),n=new Runtime.Method(n,"getComponentStyle");n.exists()&&t.push(n.apply())}return Runtime.rs.join("",t)}_init(){super._init(),this.storage=null,this.components=Runtime.Vector.create([]),this.pages=new Runtime.Map,this.component="Runtime.DefaultLayout",this.current_page_model="",this.name="",this.lang="en",this.title="",this.theme="light"}static getClassName(){return"Runtime.BaseLayout"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.BaseLayout"]=Runtime.BaseLayout,(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseProvider=class extends Runtime.BaseObject{isStarted(){return this.started}getParam(e,t){return null==this.params||this.params.has(e)?t:this.params.get(e)}constructor(e){null==e&&(e=null),super(),this.params=null!=e?e.toDict():null}async init(){}async start(){this.started=!0}_init(){super._init(),this.started=!1,this.params=null}static getClassName(){return"Runtime.BaseProvider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.BaseProvider"]=Runtime.BaseProvider,(Runtime="undefined"==typeof Runtime?{}:Runtime).BaseStorage=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("frontend",new Runtime.Serializer.MapType(new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0}))))}set(e,t){this.frontend.set(e,t)}_init(){super._init(),this.widget_name="storage",this.frontend=new Runtime.Map}static getClassName(){return"Runtime.BaseStorage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.BaseStorage"]=Runtime.BaseStorage,(Runtime="undefined"==typeof Runtime?{}:Runtime).BusHttp=class extends Runtime.BaseProvider{async send(e){var t=e.get("service",""),i=e.get("api_name",""),n=e.get("method_name",""),s=e.get("data",null),r=Runtime.rtl.getContext().env("ROUTE_PREFIX"),r=Runtime.rs.removeFirstSlash(r);r=Runtime.rs.removeLastSlash(r);let a=Runtime.Vector.create([r,"api",i,n]);a=a.filter(e=>""!=e);var r="/"+String(a.join("/")),o=new Runtime.ApiResult,t=Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.SEND_API_BEFORE,Runtime.Map.create({api_url:r,service:t,api_name:i,method_name:n,params:e,data:s})),r=t.get("api_url"),i=new Runtime.Curl(r,Runtime.Map.create({post:t.get("data")}));try{await i.send()}catch(e){if(!(e instanceof Runtime.Exceptions.CurlException))throw e;o.exception(e)}n=Runtime.rtl.jsonDecode(i.response);return n&&n instanceof Runtime.Map?o.importContent(n):o.ob_content=i.response,Runtime.rtl.getContext().env("DEBUG")&&o.ob_content&&Runtime.rtl.error(o.ob_content),Runtime.rtl.getContext().env("DEBUG")&&o.isException()&&o.error_trace&&((e=Runtime.Vector.create(["Error message: "+String(o.message),"in file "+String(o.error_file)+String(":")+String(o.error_line)])).appendItems(o.error_trace.map((e,t)=>t+1+String(") ")+String(e))),Runtime.rtl.error(Runtime.rs.join("\n",e))),o}_init(){super._init()}static getClassName(){return"Runtime.BusHttp"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.BusInterface"]}},window["Runtime.BusHttp"]=Runtime.BusHttp,(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime).Listener=class extends Runtime.BaseObject{constructor(e){super(),this.object=e}clear(e){this.listeners.set(e,new Runtime.Chain)}add(e,t,i){null==i&&(i=100),t instanceof Runtime.Method&&(this.listeners.has(e)||this.clear(e),(e=this.listeners.get(e)).add(t,i),e.sort())}emit(e){null==e.model&&(e.model=this.object),this.emitMessage(e.constructor.getClassName(),e),this.emitMessage(e.name,e)}async emitAsync(e){null==e.model&&(e.model=this.object);var t=this.emitMessage(e.constructor.getClassName(),e),e=this.emitMessage(e.name,e);t instanceof Promise&&await t,e instanceof Promise&&await e}emitMessage(e,t){if(this.listeners.has(e))return this.listeners.get(e).apply(Runtime.Vector.create([t]))}_init(){super._init(),this.object=null,this.listeners=new Runtime.Map}static getClassName(){return"Runtime.Listener"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Listener"]=Runtime.Listener,(Runtime="undefined"==typeof Runtime?{}:Runtime).Method=class extends Runtime.BaseObject{constructor(e,t,i){null==i&&(i=null),super(),this._init(),this.obj=e,this.name=t,this.tag=i}exists(){return!!Runtime.rtl.methodExists(this.obj,this.name)}check(){if(!this.exists())throw new Runtime.Exceptions.RuntimeException("Method '"+String(this.name)+String("' not found in ")+String(Runtime.rtl.className(this.obj)))}apply(e){null==e&&(e=null),this.check(),null==e&&(e=[]);var t=this.obj;return(t="string"==typeof t?Runtime.rtl.findClass(t):t)[this.name].bind(t).apply(null,e)}_init(){super._init(),this.tag=null}static getClassName(){return"Runtime.Method"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Method"]=Runtime.Method,(Runtime="undefined"==typeof Runtime?{}:Runtime).Chain=class extends Runtime.Method{constructor(){super(null,null)}exists(){return!0}check(){}getChain(){return this.chain.slice()}add(e,t){return null==t&&(t=100),this.chain.push(Runtime.Map.create({method:e,priority:t})),this}sort(){this.chain.sort(Runtime.rtl.compare(e=>e.get("priority")))}apply(t){null==t&&(t=null);for(let e=0;e<this.chain.count();e++){var i=this.chain.get(e).get("method");i instanceof Runtime.Method?i.apply(t):Runtime.rtl.apply(i,t)}}_init(){super._init(),this.chain=Runtime.Vector.create([])}static getClassName(){return"Runtime.Chain"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Chain"]=Runtime.Chain,(Runtime="undefined"==typeof Runtime?{}:Runtime).ChainAsync=class extends Runtime.Chain{apply(n){null==n&&(n=null);return(async()=>{for(let t=0;t<this.chain.count();t++){var i=this.chain.get(t).get("method");let e=null;(e=i instanceof Runtime.Method?i.apply(n):Runtime.rtl.apply(i,n))instanceof Promise&&await e}})()}_init(){super._init()}static getClassName(){return"Runtime.ChainAsync"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.ChainAsync"]=Runtime.ChainAsync,(Runtime="undefined"==typeof Runtime?{}:Runtime).Component={name:"Runtime.Component",props:{model:{default:null},class:{default:""}},data:function(){return{parent_component:null}},methods:{renderWidget:function(e,t){use("Runtime.rs").getComponentHash(this.getClassName());var i,n=new Runtime.VirtualDom(this);return e&&(i=e.component,t=t||new Runtime.Map,n.element(i,new Runtime.Map({model:e}).concat(t))),n},render:function(){use("Runtime.rs").getComponentHash(this.getClassName());return new Runtime.VirtualDom(this)},slot:function(e){return null!=this.$slots[e]},renderSlot:function(e,t){t=(t=null==t?null:t)||[];e=this.$slots[e];return e?e.apply(null,t):null},getParent:function(){return this.$parent},getRef:function(e){return this.$refs[e]},emit:function(e){(e.src=this).$emit(e.name,e)},nextTick:function(e){this.$nextTick(e)},hash:function(e,t){return t=null==t?null:t},getClassName:function(){return"Runtime.Component"}},computed:{layout:function(){return this.$layout}},render:function(){var e=this.render();return Runtime.rtl.getContext().provider("render").render(e)},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Component"]=Runtime.Component,(Runtime="undefined"==typeof Runtime?{}:Runtime).Context=class extends Runtime.BaseObject{isInitialized(){return this.initialized}isStarted(){return this.started}getStartTime(){return this.start_time}getBasePath(){return this.base_path}getEntities(t){return""==(t=null==t?"":t)?this.entities.slice():this.entities.filter(e=>Runtime.rtl.isInstanceOf(e,t))}getEnvironments(){return this.environments.copy()}factory(t,e){null==e&&(e=null);var i=this.entities.find(e=>e.name==t);if(i||Runtime.rtl.isImplements(i,"Runtime.FactoryInterface"))return i.createInstance(e);throw new Runtime.Exceptions.ItemNotFound(t,"Factory")}provider(e){if(this.providers.has(e))return this.providers.get(e);throw new Runtime.Exceptions.ItemNotFound(e,"Provider")}env(e){var t=this.environments.get(e),e=Runtime.Map.create({name:e,value:t});return this.hook(Runtime.Hooks.RuntimeHook.ENV,e),e.get("value")}static initParams(e){e.has("start_time")||e.set("start_time",Date.now()),e.has("environments")||e.set("environments",new Runtime.Map);var t=e.get("environments");return t.has("CLOUD_ENV")||t.set("CLOUD_ENV",!1),t.has("DEBUG")||t.set("DEBUG",!1),t.has("LOCALE")||t.set("LOCALE","en_US"),t.has("TZ")||t.set("TZ","UTC"),t.has("TZ_OFFSET")||t.set("TZ_OFFSET",0),e}constructor(e){super(),e.has("base_path")&&(this.base_path=e.get("base_path")),e.has("cli_args")&&(this.cli_args=e.get("cli_args")),e.has("environments")&&(this.environments=e.get("environments")),e.has("modules")&&(this.modules=e.get("modules")),e.has("start_time")&&(this.start_time=e.get("start_time"))}async init(e){var t;this.initialized||(this.modules=this.constructor.getRequiredModules(this.modules),this.entities=this.constructor.getEntitiesFromModules(this.modules),t=this.getEntities("Runtime.Entity.Provider"),this.createProviders(t),e.has("providers")&&this.createProviders(e.get("providers")),await this.initProviders(),await this.hook(Runtime.Hooks.RuntimeHook.INIT),this.initialized=!0)}async start(){this.started||(await this.startProviders(),await this.hook(Runtime.Hooks.RuntimeHook.START),this.started=!0)}async run(){return 0}createProviders(t){for(let e=0;e<t.count();e++){var i=t.get(e),n=i.createInstance();if(!n)throw new Runtime.Exceptions.RuntimeException("Can't to create provider '"+String(i.name)+String("'"));this.registerProvider(i.name,n)}}registerProvider(e,t){if(!this.initialized){if(!(t instanceof Runtime.BaseProvider))throw new Runtime.Exceptions.RuntimeException("Provider '"+String(e)+String("' must be intstanceof BaseProvider"));this.providers.set(e,t)}}async initProviders(){var t=Runtime.rtl.list(this.providers.keys());for(let e=0;e<t.count();e++){var i=t.get(e);await this.providers.get(i).init()}}async startProviders(){var t=Runtime.rtl.list(this.providers.keys());for(let e=0;e<t.count();e++){var i=t.get(e);await this.providers.get(i).start()}}hook(e,t){return null==t&&(t=null),this.provider("hook").apply(e,t)}translate(e,t){return null==(t=null==t?null:t)?e:Runtime.rs.format(e,t)}static getRequiredModules(e){var t=new Runtime.Vector,i=new Runtime.Map;return this._getRequiredModules(t,i,e),t.removeDuplicates()}static _getRequiredModules(t,i,n){if(null!=n)for(let e=0;e<n.count();e++){var s,r=n.get(e);i.has(r)||(i.set(r,!0),(s=new Runtime.Method(r+String(".ModuleDescription"),"requiredModules")).exists()&&(null!=(s=s.apply())&&(s=Runtime.rtl.list(s.keys()),this._getRequiredModules(t,i,s)),t.push(r)))}}static getEntitiesFromModules(e){return e.reduce((e,t)=>{var t=new Runtime.Method(t+String(".ModuleDescription"),"entities");return t.exists()&&(t=t.apply())?e.concat(t):e},new Runtime.Vector)}_init(){super._init(),this.environments=new Runtime.Map,this.providers=new Runtime.Map,this.modules=Runtime.Vector.create([]),this.entities=Runtime.Vector.create([]),this.cli_args=Runtime.Vector.create([]),this.base_path="",this.start_time=0,this.initialized=!1,this.started=!1}static getClassName(){return"Runtime.Context"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Context"]=Runtime.Context,(Runtime="undefined"==typeof Runtime?{}:Runtime).Curl=class extends Runtime.BaseObject{constructor(e,t){null==t&&(t=null),super(),this.url=e,null!=t&&t.has("post")&&(this.post=t.get("post"))}isSuccess(){return 200==this.code}async send(){return this.code=0,this.response="",await this.sendPost(),this.response}_init(){super._init(),this.url="",this.post=null,this.code=0,this.response=""}static getClassName(){return"Runtime.Curl"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Curl"]=Runtime.Curl,Object.assign(Runtime.Curl.prototype,{getKey:function(e,t){return""==e?t:e+"["+t+"]"},buildPostData:function(e,t,i){if(i instanceof Array)for(var n=0;n<i.length;n++)this.buildPostData(e,this.getKey(t,n),i[n]);else if(i instanceof Runtime.Map)for(var s=Runtime.rtl.list(i.keys()),n=0;n<s.length;n++){var r=s.get(n);this.buildPostData(e,this.getKey(t,r),i.get(r))}else null!==i&&e.append(t,i)},sendPost:async function(){return new Promise((e,t)=>{try{var i=new FormData,n=(this.buildPostData(i,"",this.post),new XMLHttpRequest);n.open("POST",this.url,!0),n.send(i),n.onreadystatechange=(s=this,r=n,a=e,o=t,function(){4==r.readyState&&(s.code=r.status,s.response=r.responseText,200==r.status?a():o(new Runtime.Exceptions.CurlException(r.status,r.responseText)))})}catch(e){t(e)}var s,r,a,o})}}),(Runtime="undefined"==typeof Runtime?{}:Runtime).Date=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),null!=e&&(e.has("y")&&(this.y=e.get("y")),e.has("m")&&(this.m=e.get("m")),e.has("d"))&&(this.d=e.get("d"))}toMap(){return Runtime.Map.create({y:this.y,m:this.m,d:this.d})}getDate(){return this.y+String("-")+String(this.m)+String("-")+String(this.d)}normalize(){return this}toString(){return this.y+String("-")+String(this.m)+String("-")+String(this.d)}_init(){super._init(),this.y=0,this.m=0,this.d=0}static getClassName(){return"Runtime.Date"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.StringInterface"]}},window["Runtime.Date"]=Runtime.Date,Runtime.Date.prototype.toObject=function(){return new Date(this.y,this.m-1,this.d)},Runtime.Date.fromObject=function(e){var t=use("Runtime.Dict"),i=Number(e.getFullYear()),n=Number(e.getMonth())+1,s=Number(e.getDate());return e=new Runtime.Date(t.from({y:i,m:n,d:s}))},(Runtime="undefined"==typeof Runtime?{}:Runtime).DateTime=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),null!=e&&(e.has("y")&&(this.y=e.get("y")),e.has("m")&&(this.m=e.get("m")),e.has("d")&&(this.d=e.get("d")),e.has("h")&&(this.h=e.get("h")),e.has("i")&&(this.i=e.get("i")),e.has("s")&&(this.s=e.get("s")),e.has("ms")&&(this.ms=e.get("ms")),e.has("o"))&&(this.o=e.get("o"))}toMap(){return Runtime.Map.create({y:this.y,m:this.m,d:this.d,h:this.h,i:this.i,s:this.s,ms:this.ms,o:this.o})}static create(e){var t=null,t=-1==(e=null==e?-1:e)?new Date:new Date(1e3*e);return this.fromObject(t)}static now(){return this.create(-1)}getTimestamp(){var e=this.toObject();return Math.round(e.getTime()/1e3)}timestamp(){return this.getTimestamp()}getDayOfWeek(){return this.toObject().getDay()}toString(){var e=this.m<10?"0"+String(this.m):""+String(this.m),t=this.d<10?"0"+String(this.d):""+String(this.d),i=this.h<10?"0"+String(this.h):""+String(this.h),n=this.i<10?"0"+String(this.i):""+String(this.i),s=this.s<10?"0"+String(this.s):""+String(this.s),r=60*this.o,a=r%60,o=(o=Runtime.rtl.abs(Runtime.rtl.floor(r/60)))<10?"0"+String(o):""+String(o),a=a<10?"0"+String(a):""+String(a),o=o+String(a),o=r<0?"-"+String(o):"+"+String(o);return this.y+String("-")+String(e)+String("-")+String(t)+String("T")+String(i)+String(":")+String(n)+String(":")+String(s)+String(o)}static fromString(e){var t,i,n=new Runtime.DateTime;return n.y=Runtime.rtl.toInt(Runtime.rs.substr(e,0,4)),n.m=Runtime.rtl.toInt(Runtime.rs.substr(e,5,2)),n.d=Runtime.rtl.toInt(Runtime.rs.substr(e,8,2)),n.h=Runtime.rtl.toInt(Runtime.rs.substr(e,11,2)),n.i=Runtime.rtl.toInt(Runtime.rs.substr(e,14,2)),n.s=Runtime.rtl.toInt(Runtime.rs.substr(e,17,2)),n.o=0,19<Runtime.rs.strlen(e)&&(t=Runtime.rs.substr(e,19,1),i=Runtime.rtl.toInt(Runtime.rs.substr(e,20,2)),e=Runtime.rtl.toInt(Runtime.rs.substr(e,23,2)),n.o=(60*i+e)/60,"-"==t)&&(n.o=0-n.o),n}format(){var e=this.m<10?"0"+String(this.m):""+String(this.m),t=this.d<10?"0"+String(this.d):""+String(this.d),i=this.h<10?"0"+String(this.h):""+String(this.h),n=this.i<10?"0"+String(this.i):""+String(this.i),s=this.s<10?"0"+String(this.s):""+String(this.s);return this.y+String("-")+String(e)+String("-")+String(t)+String(" ")+String(i)+String(":")+String(n)+String(":")+String(s)}normalize(){let e=this;var t=Runtime.rtl.getContext().env("TZ_OFFSET");return e=t?e.setOffset(t):e}shift(e){var t=this.getTimestamp(),t=this.constructor.create(t+e);return t.setOffset(this.o),t}setOffset(e){let t=this.toObject();var i=60*-t.getTimezoneOffset(),i=(t=this.constructor.modify(t,e-i),this.constructor.fromObject(t));return i.o=e,i}static getOffset(e){}static modify(e,t){var i;return 0!=t&&(t=Math.floor(t/60),i=Math.floor(t/60),t=t%60,e.setMinutes(e.getMinutes()+t),e.setHours(e.getHours()+i)),e}toObject(){var e=new Date(this.y,this.m-1,this.d,this.h,this.i,this.s),t=e.getTimezoneOffset()+60*this.o;return e=this.constructor.modify(e,60*-t)}static fromObject(e){var t=use("Runtime.Map"),i=-e.getTimezoneOffset()/60,n=Number(e.getFullYear()),s=Number(e.getMonth())+1,r=Number(e.getDate()),a=Number(e.getHours()),o=Number(e.getMinutes()),e=Number(e.getSeconds());return new Runtime.DateTime(new t({y:n,m:s,d:r,h:a,i:o,s:e,o:i}))}_init(){super._init(),this.y=1970,this.m=1,this.d=1,this.h=0,this.i=0,this.s=0,this.ms=0,this.o=0}static getClassName(){return"Runtime.DateTime"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.StringInterface"]}},window["Runtime.DateTime"]=Runtime.DateTime,(Runtime="undefined"==typeof Runtime?{}:Runtime).DefaultLayout={name:"Runtime.DefaultLayout",extends:Runtime.Component,methods:{renderCurrentPage:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this),t=this.layout.getPageModel(),i=t?t.component:"";return i&&e.element(i,new Runtime.Map({model:t})),e},render:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.renderCurrentPage()),e},renderComponents:function(t){use("Runtime.rs").getComponentHash(this.getClassName());var i=new Runtime.VirtualDom(this);for(let e=0;e<t.count();e++){var n=t.get(e);n instanceof Runtime.VirtualDom?i.push(n):Runtime.rtl.isString(n)&&i.element(n)}return i},renderHeader:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.element("title").push(this.layout.title),e.element("meta",new Runtime.Map({name:"viewport",content:"width=device-width, initial-scale=1.0"})),e.push(this.renderComponents(this.getComponents(Runtime.Hooks.RuntimeHook.LAYOUT_HEADER))),e},renderFooter:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.renderComponents(this.getComponents(Runtime.Hooks.RuntimeHook.LAYOUT_FOOTER))),e},renderMountApp:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this),t=e.element("script");return t.push("var app_data ="),t.push(Runtime.rtl.jsonEncode(this.container.getData())),t.push(';\n\t\tdocument.addEventListener("DOMContentLoaded", function(){\n\t\t\tRuntime.rtl.mount(app_data, document.querySelector(".root_container"), function (result){\n\t\t\t\twindow["app"] = result.get("app");\n\t\t\t\twindow["app_layout"] = result.get("layout");\n\t\t\t});\n\t\t});'),e},renderStyle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.element("style").push(this.layout.getStyle()),e},renderApp:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("html",new Runtime.Map({lang:this.layout.lang})),s=n.element("head"),s=(s.push(this.renderHeader()),s.push(this.renderStyle()),n.element("body",new Runtime.Map({class:e.className(["theme_"+String(this.layout.theme),t])})));return s.element("div",new Runtime.Map({class:e.className(["root_container",t])})).push(this.render()),s.push(this.renderFooter()),s.push(this.renderMountApp()),i},getComponents:function(e){return Runtime.rtl.getContext().hook(e,Runtime.Map.create({layout:this.layout,components:Runtime.Vector.create([])})).get("components")},getClassName:function(){return"Runtime.DefaultLayout"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.DefaultLayout"]=Runtime.DefaultLayout,(Runtime="undefined"==typeof Runtime?{}:Runtime).Message=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this._assign_values(e)}_init(){super._init(),this.data=null,this.name="",this.model=null}static getClassName(){return"Runtime.Message"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Message"]=Runtime.Message,(Runtime="undefined"==typeof Runtime?{}:Runtime).Money=class extends Runtime.BaseObject{constructor(e,t){super(),this.value=e,this.currency=t}getValue(){return this.value}getCurrency(){return this.currency}add(e){if(this.currency!=e.currency)throw new Runtime.Exceptions.RuntimeException("Money currency mismatch");this.value+=e.currency}_init(){super._init(),this.value=0,this.currency=""}static getClassName(){return"Runtime.Money"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Money"]=Runtime.Money,(Runtime="undefined"==typeof Runtime?{}:Runtime).RawString=class{constructor(e){this.s="",Runtime.rtl.isString(e)&&(this.s=e)}toString(){return this.s}static normalize(e){return Runtime.rtl.isString(e)?e:e instanceof Runtime.RawString?e.s:e instanceof Runtime.Collection?(e=e.map(e=>this.normalize(e)),Runtime.rs.join("",e)):""}_init(){}static getClassName(){return"Runtime.RawString"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.StringInterface"]}},window["Runtime.RawString"]=Runtime.RawString,(Runtime="undefined"==typeof Runtime?{}:Runtime).Reference=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this.ref=e}setValue(e){this.ref=e}value(){return this.ref}_init(){super._init(),this.ref=null}static getClassName(){return"Runtime.Reference"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Reference"]=Runtime.Reference,(Runtime="undefined"==typeof Runtime?{}:Runtime).RenderContainer=class extends Runtime.BaseObject{createLayout(e){var t=Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.LAYOUT_NAME,Runtime.Map.create({class_name:"Runtime.BaseLayout",layout_name:e}));return this.layout=Runtime.rtl.newInstance(t.get("class_name"),Runtime.Vector.create([t])),this.layout.name=e,Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.CREATE_LAYOUT,Runtime.Map.create({container:this})),this.layout}changeLayout(e){if(!this.layout||this.layout.name!=e){var t=this.layout?this.layout.widgets:new Runtime.Map,i=(this.createLayout(e),Runtime.rtl.list(t.keys()));for(let e=0;e<i.count();e++){var n=i.get(e),s=t.get(n);s.parent_widget=this.layout,this.layout.widgets.set(n,s)}t.has("storage")&&(this.layout.storage=t.get("storage")),Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.CHANGE_LAYOUT,Runtime.Map.create({container:this}))}}async resolve(){}async renderPageModel(e,t){this.layout.setPageModel(e,t=null==t?null:t);e=this.layout.getPageModel();e&&(await e.loadData(this),e==this.layout.getPageModel())&&e.buildTitle(this)}async loadData(){await this.layout.loadData()}getData(){var e=Runtime.rtl.serialize(this.layout),e=Runtime.Map.create({modules:Runtime.rtl.getContext().modules,class:this.layout.getClassName(),layout:e,environments:Runtime.Map.create({CLOUD_ENV:Runtime.rtl.getContext().env("CLOUD_ENV"),DEBUG:Runtime.rtl.getContext().env("DEBUG"),LOCALE:Runtime.rtl.getContext().env("LOCALE"),TZ:Runtime.rtl.getContext().env("TZ"),TZ_OFFSET:Runtime.rtl.getContext().env("TZ_OFFSET")})});return Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.CREATE_CONTAINER_DATA,Runtime.Map.create({container:this,data:e})).get("data")}renderApp(){var e=Runtime.rtl.newInstance(this.layout.component);return e.container=this,e.layout=this.layout,e.renderApp().render()}render(){var e=new Runtime.VirtualDom;return e.setName(this.layout.component),e.setAttrs(Runtime.Map.create({layout:this.layout})),e.render()}_init(){super._init(),this.layout=null}static getClassName(){return"Runtime.RenderContainer"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.RenderContainer"]=Runtime.RenderContainer,(Runtime="undefined"==typeof(Runtime="undefined"==typeof Runtime?{}:Runtime)?{}:Runtime).ModuleDescription=class{static getModuleName(){return"Runtime"}static getModuleVersion(){return"1.0"}static requiredModules(){return null}static entities(){return Runtime.Vector.create([new Runtime.Entity.Provider("hash","Runtime.Providers.GlobalHash"),new Runtime.Entity.Provider("output","Runtime.Providers.OutputProvider"),new Runtime.Entity.Provider("hook","Runtime.Providers.HookProvider"),new Runtime.Entity.Provider("api","Runtime.BusHttp"),new Runtime.Entity.Provider("render","Runtime.Providers.RenderProvider")])}_init(){}static getClassName(){return"Runtime.ModuleDescription"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.ModuleDescription"]=Runtime.ModuleDescription,(Runtime="undefined"==typeof Runtime?{}:Runtime).VirtualDom=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this.component=e}static isComponent(e){return""!=e&&(e=Runtime.rs.substr(e,0,1),Runtime.rs.upper(e)==e)}setName(e){this.name=e,this.is_component=this.constructor.isComponent(e)}setAttrs(e){e&&(this.attrs=e)}element(e,t){null==t&&(t=null);var i=this.constructor.newInstance(Runtime.Vector.create([this.component]));return i.setName(e),i.setAttrs(t),"script"!=e&&"style"!=e||(i.is_raw=!0),this.push(i),i}push(e){if(Array.isArray(e))this.items.appendItems(e);else if(!Runtime.rtl.isString(e)||""!=e){if(e instanceof Runtime.VirtualDom||Runtime.rtl.isString(e)||(e=Runtime.rtl.toStr(e)),0<this.items.count()&&Runtime.rtl.isString(e)){var t=this.items.last();if(Runtime.rtl.isString(t))return void this.items.set(this.items.count()-1,t+String(e))}this.items.push(e)}}slot(e,t){this.slots.set(e,t)}render(){var e=Runtime.Vector.create([]),t=new Runtime.Providers.RenderContent;return t.components=Runtime.rtl.getContext().provider("render").components,t.render(this,e),Runtime.rs.join("",e)}static raw(e){var t=new Runtime.VirtualDom;return t.is_raw=!0,t.push(e),t}static renderModel(e){var t=new Runtime.VirtualDom;return t.setName(e.component),t.attrs=Runtime.Map.create({model:e,layout:e.layout}),t}_init(){super._init(),this.component=null,this.attrs=new Runtime.Map,this.slots=new Runtime.Map,this.items=Runtime.Vector.create([]),this.is_raw=!1,this.is_render=!1,this.is_component=!1,this.name=""}static getClassName(){return"Runtime.VirtualDom"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.VirtualDom"]=Runtime.VirtualDom,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Entity=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this._assign_values(e)}_init(){super._init(),this.name=""}static getClassName(){return"Runtime.Entity.Entity"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Entity.Entity"]=Runtime.Entity.Entity,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Factory=class extends Runtime.Entity.Entity{constructor(e,t){null==t&&(t=null),super(Runtime.Map.create({name:e,params:t}))}getName(){return this.name}createInstance(){var e=this.getName();return Runtime.rtl.newInstance(e,Runtime.Vector.create([this.params]))}_init(){super._init(),this.params=null}static getClassName(){return"Runtime.Entity.Factory"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.FactoryInterface"]}},window["Runtime.Entity.Factory"]=Runtime.Entity.Factory,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Hook=class extends Runtime.Entity.Factory{constructor(e,t){super(e,t=null==t?null:t)}_init(){super._init(),this.params=null}static getClassName(){return"Runtime.Entity.Hook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Entity.Hook"]=Runtime.Entity.Hook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Entity&&(Runtime.Entity={}),Runtime.Entity.Provider=class extends Runtime.Entity.Factory{constructor(e,t,i){null==t&&(t=""),super(e,i=null==i?null:i),this.value=t}getName(){return this.value||this.name}_init(){super._init(),this.value=null}static getClassName(){return"Runtime.Entity.Provider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Entity.Provider"]=Runtime.Entity.Provider,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Hooks&&(Runtime.Hooks={}),Runtime.Hooks.BaseHook=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this.initParams(e)}initParams(e){}register(e,t,i){null==t&&(t=""),null==i&&(i=100);e=this.provider.getChain(e);e&&e.add(new Runtime.Method(this,t),i)}register_hooks(){}_init(){super._init(),this.provider=null}static getClassName(){return"Runtime.Hooks.BaseHook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Hooks.BaseHook"]=Runtime.Hooks.BaseHook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Hooks&&(Runtime.Hooks={}),Runtime.Hooks.RuntimeHook=class extends Runtime.Hooks.BaseHook{static INIT="runtime::init";static START="runtime::start";static LAUNCHED="runtime::launched";static RUN="runtime::run";static ENV="runtime::env";static MOUNT="runtime::mount";static ASSETS="runtime::assets";static COMPONENTS="runtime::components";static LAYOUT_HEADER="runtime::header";static LAYOUT_FOOTER="runtime::footer";static LAYOUT_NAME="runtime::layout_name";static CREATE_CONTAINER="runtime::create_container";static CREATE_CONTAINER_DATA="runtime::create_container_data";static CREATE_LAYOUT="runtime::create_layout";static CHANGE_LAYOUT="runtime::change_layout";static SEND_API_BEFORE="runtime::send_api_before";static TITLE="runtime::title";register_hooks(){super.register_hooks(),this.provider.setAsync(Runtime.Vector.create([this.constructor.INIT,this.constructor.START,this.constructor.LAUNCHED,this.constructor.RUN]))}_init(){super._init()}static getClassName(){return"Runtime.Hooks.RuntimeHook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Hooks.RuntimeHook"]=Runtime.Hooks.RuntimeHook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.GlobalHash=class extends Runtime.BaseProvider{get(e,t){return this.hash.get(e,t=null==t?null:t)}set(e,t){this.hash.set(e,t)}_init(){super._init(),this.hash=new Runtime.Map}static getClassName(){return"Runtime.Providers.GlobalHash"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Providers.GlobalHash"]=Runtime.Providers.GlobalHash,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.HookProvider=class extends Runtime.BaseProvider{async init(){var t=Runtime.rtl.getContext().getEntities("Runtime.Entity.Hook");this.base_hooks=new Runtime.Vector;for(let e=0;e<t.count();e++){var i=t[e].createInstance();i.provider=this,i.register_hooks(),this.base_hooks.push(i)}}async start(){await super.start(),this.sort()}setAsync(t){for(let e=0;e<t.count();e++){var i=t.get(e);this.async_hooks.set(i,!0)}}isAsync(e){return!!this.async_hooks.has(e)&&this.async_hooks.get(e)}register(e,t,i){null==i&&(i=100);e=this.getChain(e);e&&e.add(t,i)}sort(){this.chains.each(e=>{e.sort()})}createChain(e,t){this.chains.has(e)||(t?this.chains.set(e,new Runtime.ChainAsync):this.chains.set(e,new Runtime.Chain))}getChain(e){return this.chains.has(e)||this.createChain(e,this.isAsync(e)),this.chains.get(e)}apply(e,t){null==t&&(t=null);let i=this.chains.get(e);if(i){if(i instanceof Runtime.ChainAsync)return(async()=>(await i.apply(Runtime.Vector.create([t])),t))();i.apply(Runtime.Vector.create([t]))}return t}_init(){super._init(),this.base_hooks=Runtime.Vector.create([]),this.chains=new Runtime.Map,this.async_hooks=new Runtime.Map}static getClassName(){return"Runtime.Providers.HookProvider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Providers.HookProvider"]=Runtime.Providers.HookProvider,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.OutputProvider=class extends Runtime.BaseProvider{constructor(){super(),this.color_table=Runtime.Map.create({black:"0;30",dark_red:"0;31",green:"0;32",brown:"0;33",dark_blue:"0;34",dark_purple:"0;35",dark_cyan:"0;36",gray:"0;37",dark_gray:"0;90",red:"0;91",light_green:"0;92",yellow:"0;93",blue:"0;94",purple:"0;95",cyan:"0;96",white:"0;97",bold_black:"1;30",bold_dark_red:"1;31",bold_green:"1;32",bold_brown:"1;33",bold_dark_blue:"1;34",bold_dark_purple:"1;35",bold_dark_cyan:"1;36",bold_gray:"1;37",bold_dark_gray:"1;90",bold_red:"1;91",bold_light_green:"1;92",bold_yellow:"1;93",bold_blue:"1;94",bold_purple:"1;95",bold_cyan:"1;96",bold_white:"1;97",italic_black:"3;30",italic_dark_red:"3;31",italic_green:"3;32",italic_brown:"3;33",italic_dark_blue:"3;34",italic_dark_purple:"3;35",italic_dark_cyan:"3;36",italic_gray:"3;37",italic_dark_gray:"3;90",italic_red:"3;91",italic_light_green:"3;92",italic_yellow:"3;93",italic_blue:"3;94",italic_purple:"3;95",italic_cyan:"3;96",italic_white:"3;97",underline_black:"4;30",underline_dark_red:"4;31",underline_green:"4;32",underline_brown:"4;33",underline_dark_blue:"4;34",underline_dark_purple:"4;35",underline_dark_cyan:"4;36",underline_gray:"4;37",underline_dark_gray:"4;90",underline_red:"4;91",underline_light_green:"4;92",underline_yellow:"4;93",underline_blue:"4;94",underline_purple:"4;95",underline_cyan:"4;96",underline_white:"4;97",bg_black:"0;40",bg_dark_red:"0;41",bg_green:"0;42",bg_brown:"0;43",bg_dark_blue:"0;44",bg_dark_purple:"0;45",bg_dark_cyan:"0;46",bg_gray:"0;47",bg_dark_gray:"0;100",bg_red:"0;101",bg_light_green:"0;102",bg_yellow:"0;103",bg_blue:"0;104",bg_purple:"0;105",bg_cyan:"0;106",bg_white:"0;107",bg_italic_black:"3;40",bg_italic_dark_red:"3;41",bg_italic_green:"3;42",bg_italic_brown:"3;43",bg_italic_dark_blue:"3;44",bg_italic_dark_purple:"3;45",bg_italic_dark_cyan:"3;46",bg_italic_gray:"3;47",bg_italic_dark_gray:"3;100",bg_italic_red:"3;101",bg_italic_light_green:"3;102",bg_italic_yellow:"3;103",bg_italic_blue:"3;104",bg_italic_purple:"3;105",bg_italic_cyan:"3;106",bg_italic_white:"3;107",bg_underline_black:"4;40",bg_underline_dark_red:"4;41",bg_underline_green:"4;42",bg_underline_brown:"4;43",bg_underline_dark_blue:"4;44",bg_underline_dark_purple:"4;45",bg_underline_dark_cyan:"4;46",bg_underline_gray:"4;47",bg_underline_dark_gray:"4;100",bg_underline_red:"4;101",bg_underline_light_green:"4;102",bg_underline_yellow:"4;103",bg_underline_blue:"4;104",bg_underline_purple:"4;105",bg_underline_cyan:"4;106",bg_underline_white:"4;107"})}print(e,t,i){if(null==t&&(t=!0),null==i&&(i=""),!Runtime.rtl.isString(e))throw new Runtime.Exceptions.RuntimeException("print message must be string");console.log(e)}error(e){var t,i,n="dark_red";e instanceof Error?(i=this.getColor(n),i=(t=String.fromCharCode(27))+"["+i+"m"+e.stack+t+"[0m",this.print(i,!0,"err")):this.print(this.color(n,e),!0,"err")}color(e,t){return e=this.getColor(e),t=(t=Runtime.rs.chr(27)+String("[")+String(e)+String("m")+String(t))+String(Runtime.rs.chr(27))+String("[0m")}getColor(e){return e=Runtime.rs.lower(e),this.color_table.has(e)?this.color_table.get(e):5<Runtime.rs.strlen(e)?"0":e}_init(){super._init(),this.color_table=new Runtime.Map}static getClassName(){return"Runtime.Providers.OutputProvider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Providers.OutputProvider"]=Runtime.Providers.OutputProvider,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Providers&&(Runtime.Providers={}),Runtime.Providers.RenderProvider=class extends Runtime.BaseProvider{createLayout(e){var t=e.get("class"),e=e.get("layout"),t=Runtime.rtl.newInstance(t);return Runtime.rtl.assign(t,e),window.Vue.reactive(t)}createApp(e){let t=null;var i=e=>({install:()=>{t.config.globalProperties.$layout=e}}),n=Runtime.rtl.findClass(e.component),s=new Runtime.Map,r=window.Vue;return(t=this.enable_ssr?r.createSSRApp(n,s):r.createApp(n,s)).use(i(e)),t}mount(e,t){var i=this.createLayout(e),n=this.createApp(i);return n.mount(t,!0),Runtime.rtl.getContext().hook(Runtime.Hooks.RuntimeHook.MOUNT,Runtime.Map.create({app:n,layout:i,data:e})),Runtime.Map.create({app:n,layout:i})}addComponent(e,t){this.components.set(e,t)}findElement(t){if(t.is_component){let e=t.name;return"TransitionGroup"==(e=this.components.has(e)?this.components.get(e):e)?Vue.TransitionGroup:Runtime.rtl.findClass(e)}return t.name}render(t){if(!(t instanceof Runtime.VirtualDom))return t;var i=Runtime.Vector.create([]);if(!t.attrs.has("@raw"))for(let e=0;e<t.items.count();e++){var n=t.items.get(e);i.push(this.render(n))}var e=window.Vue.h;if(""==t.name)return 1==i.count()?i.get(0):i;let s=i,r=((s=t.is_component?t.slots.map(function(t){return(...e)=>Runtime.rtl.render(t.apply(null,e))}).toObject():s)instanceof Runtime.Vector&&(s=s.flatten().filter(e=>null!=e&&""!=e)),t.attrs);return r instanceof Runtime.Map&&(r=(r=r.mapWithKeys((e,t)=>("@ref"==t&&(t="ref"),Runtime.Vector.create([e,t]))).filter((e,t)=>"@"!=Runtime.rs.charAt(t,0))).toObject(),t.attrs.has("@raw"))&&(r.innerHTML=t.attrs.get("@raw")),e(this.findElement(t),r,s)}_init(){super._init(),this.enable_ssr=!0,this.components=new Runtime.Map}static getClassName(){return"Runtime.Providers.RenderProvider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Providers.RenderProvider"]=Runtime.Providers.RenderProvider,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.Allowed=class extends Runtime.BaseObject{constructor(e){super(),this.items=e}filter(e,t){return null===e?null:(-1==this.items.indexOf(e)&&t.push("Value not allowed"),e)}encode(e){return e}_init(){super._init(),this.items=Runtime.Vector.create([])}static getClassName(){return"Runtime.Serializer.Allowed"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.Allowed"]=Runtime.Serializer.Allowed,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.BooleanType=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),e&&(e.has("convert")&&(this.convert=e.get("convert")),e.has("default"))&&(this.default_value=e.get("default"))}filter(e,t){return null===e?(this.convert||t.push(new Runtime.Serializer.TypeError("Does not boolean")),this.default_value):this.convert&&(Runtime.rtl.isInteger(e)||Runtime.rtl.isBoolean(e))?1==e:"true"==e||("false"!=e&&t.push(new Runtime.Serializer.TypeError("Does not boolean")),!1)}encode(e){return e}_init(){super._init(),this.convert=!0,this.default_value=!1}static getClassName(){return"Runtime.Serializer.BooleanType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.BooleanType"]=Runtime.Serializer.BooleanType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.DateTimeType=class extends Runtime.BaseObject{filter(e,t){return null===e?null:e instanceof Runtime.DateTime?e:e instanceof Runtime.Map?new Runtime.DateTime(e):(t.push("Must be Map"),null)}encode(e){return null===e?null:e.toMap()}_init(){super._init()}static getClassName(){return"Runtime.Serializer.DateTimeType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.DateTimeType"]=Runtime.Serializer.DateTimeType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.ConstantType=class extends Runtime.BaseObject{constructor(e){super(),this.value=e}filter(e,t){return this.value}encode(e){return this.value}_init(){super._init(),this.value=null}static getClassName(){return"Runtime.Serializer.ConstantType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.ConstantType"]=Runtime.Serializer.ConstantType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.IntegerType=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),e&&(e.has("convert")&&(this.conver=e.get("convert")),e.has("default"))&&(this.default_value=e.get("default"))}filter(e,t){return null===e?this.default_value:(this.convert&&(Runtime.rtl.isInteger(e)||Runtime.rtl.isBoolean(e)||Runtime.rtl.isString(e))&&(e=Runtime.rtl.toInt(e)),Runtime.rtl.isInteger(e)?e:(t.push(new Runtime.Serializer.TypeError("Does not integer")),""))}encode(e){return Runtime.rtl.isInteger(e)?e:Runtime.rtl.isBoolean(e)||Runtime.rtl.isString(e)?Runtime.rtl.toInt(e):0}_init(){super._init(),this.convert=!0,this.default_value=0}static getClassName(){return"Runtime.Serializer.IntegerType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.IntegerType"]=Runtime.Serializer.IntegerType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.MapType=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),Runtime.rtl.isImplements(e,"Runtime.Serializer.BaseType")?this.fields=Runtime.Vector.create([e]):e instanceof Runtime.Vector?this.fields=e:e instanceof Runtime.Map&&(this.items=e)}addType(e,t){this.items.has(e)||this.items.set(e,Runtime.Vector.create([])),this.items.get(e).push(t)}getRules(t){if(this.items&&this.items.has(t)){let e=this.items.get(t);return e=e instanceof Runtime.Vector?e:Runtime.Vector.create([e])}return this.fields||null}keys(e){return null==e&&(e=null),Runtime.rtl.list((this.fields&&e?e:this.items).keys())}walk(i,n,s){var r=new Runtime.Map,a=this.keys(i);for(let e=0;e<a.count();e++){var o=a.get(e);let t=null;Runtime.rtl.isImplements(i,"Runtime.SerializeInterface")?t=Runtime.rtl.attr(i,o):i instanceof Runtime.Map&&(t=i.get(o));var u=this.getRules(o),l=Runtime.Vector.create([]);if(u)for(let e=0;e<u.count();e++){var m=u.get(e);Runtime.rtl.isImplements(m,"Runtime.Serializer.BaseType")&&(t=s(m,t,l,o))}r.set(o,t),n.appendItems(l),Runtime.Serializer.TypeError.addFieldErrors(l,o)}return r}filter(e,t,s,r){return null==s&&(s=null),null==r&&(r=null),e instanceof Runtime.Map?this.walk(e,t,(e,t,i,n)=>e.filter(t,i,s?s.get(n):null,r)):null}encode(e){var t;return e instanceof Runtime.Map?(t=Runtime.Vector.create([]),this.walk(e,t,(e,t,i)=>e.encode(t))):null}_init(){super._init(),this.fields=null,this.items=new Runtime.Map}static getClassName(){return"Runtime.Serializer.MapType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.MapType"]=Runtime.Serializer.MapType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.ObjectType=class extends Runtime.Serializer.MapType{constructor(e){null==e&&(e=null),super(),(this.params=e)&&(e.has("autocreate")&&this.autocreate(),e.has("create")&&(this.fn_create=e.get("create")),e.has("class_name")&&(this.class_name=e.get("class_name")),e.has("class_extends")&&(this.class_extends=e.get("extends")),e.has("class_implements")&&(this.class_implements=e.get("implements")),e.has("rules")&&(this.fn_rules=e.get("rules")),e.has("serialize"))&&(this.fn_serialize=e.get("serialize"))}setClassName(e){this.class_name=e}copy(){var e=new Runtime.Serializer.ObjectType;return e.fn_create=this.fn_create,e.fn_rules=this.fn_rules,e.fn_serialize=this.fn_serialize,e.setup=this.setup,e.items=this.items.map(e=>e.slice()),e.class_name=this.class_name,e.class_extends=this.class_extends,e.class_implements=this.class_implements,e}autocreate(){this.fn_rules=(e,t)=>{e.class_name=t.get("__class_name__")},this.fn_serialize=(e,t)=>{t.set("__class_name__",e.constructor.getClassName())}}createObject(e,t,i){return""==this.class_name?null:Runtime.rtl.classExists(this.class_name)?""==this.class_extends||Runtime.rtl.isInstanceOf(this.class_name,this.class_extends)?""==this.class_implements||Runtime.rtl.isImplements(this.class_name,this.class_implements)?this.fn_create?(0,this.fn_create)(i,this,e):Runtime.rtl.newInstance(this.class_name,Runtime.Vector.create([e])):(t.push("Class '"+String(this.class_name)+String("' does not implements '")+String(this.class_implements)+String("'")),null):(t.push("Class '"+String(this.class_name)+String("' does not extends '")+String(this.class_extends)+String("'")),null):(t.push("Class '"+String(this.class_name)+String("' does not exists")),null)}initRules(e){return this.fn_rules&&(0,this.fn_rules)(this,e),this}filter(r,e,t,i){if(null==i&&(i=null),null==r)return null;let a=t=null==t?null:t;return a||(t=this.copy().initRules(r),a=t.createObject(r,e,i)),a?(t=new Runtime.Serializer.ObjectType(this.params),a.constructor.serialize(t),t.setup.apply(Runtime.Vector.create([a,t])),t.walk(r,e,(e,t,i,n)=>{var s;r.has(n)&&(s=a?Runtime.rtl.attr(a,n):null,t=e.filter(t,i,s,a),"__class_name__"!=n)&&Runtime.rtl.setAttr(a,n,t)}),a):null}encode(e){var t,i;return null!==e&&Runtime.rtl.isImplements(e,"Runtime.SerializeInterface")?(t=new Runtime.Serializer.ObjectType(this.params),e.constructor.serialize(t),i=Runtime.Vector.create([]),t=t.walk(e,i,(e,t,i)=>e.encode(t)),(i=this.fn_serialize)&&i(e,t),t):null}_init(){super._init(),this.fn_create=null,this.fn_rules=null,this.fn_serialize=null,this.setup=new Runtime.Chain,this.class_name="",this.class_extends="",this.class_implements="",this.params=new Runtime.Map}static getClassName(){return"Runtime.Serializer.ObjectType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Serializer.ObjectType"]=Runtime.Serializer.ObjectType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.Required=class extends Runtime.BaseObject{filter(e,t){return null!==e&&""!==e||t.push(new Runtime.Serializer.TypeError("Required")),e}encode(e){return e}_init(){super._init()}static getClassName(){return"Runtime.Serializer.Required"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.Required"]=Runtime.Serializer.Required,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.StringType=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),e&&(e.has("convert")&&(this.convert=e.get("convert")),e.has("multiline")&&(this.multiline=e.get("multiline")),e.has("default"))&&(this.default_value=e.get("default"))}filter(e,t){return null===e?(this.convert||t.push(new Runtime.Serializer.TypeError("Does not string")),this.default_value):(this.convert&&(Runtime.rtl.isInteger(e)||Runtime.rtl.isBoolean(e))&&(e=Runtime.rtl.toStr(e)),Runtime.rtl.isString(e)?this.multiline?Runtime.rs.replace("\r\n","\n",e):e:(t.push(new Runtime.Serializer.TypeError("Does not string")),""))}encode(e){return null===e?"":Runtime.rtl.isString(e)?e:Runtime.rtl.isBoolean(e)||Runtime.rtl.isInteger(e)?Runtime.rtl.toStr(e):""}_init(){super._init(),this.convert=!0,this.multiline=!0,this.default_value=""}static getClassName(){return"Runtime.Serializer.StringType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.StringType"]=Runtime.Serializer.StringType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.TypeError=class extends Runtime.BaseObject{constructor(e){super(),this.message=e}getMessage(){var e=this.path.slice().reverse();let t=e.first();return 1<e.count()&&(t+="["+String(Runtime.rs.join("][",e))+String("]")),t+String(": ")+String(this.message)}static getMessages(e){return e.map(e=>e.getMessage())}getFieldName(){return Runtime.rs.join(".",this.path.slice().reverse())}addKey(e){this.path.push(e)}static getMap(t){var i=new Runtime.Map;for(let e=0;e<t.count();e++){var n=t.get(e),s=n.getFieldName();i.has(s)||i.set(s,Runtime.Vector.create([])),i.get(s).push(n.message)}return i}static addFieldErrors(i,n){for(let t=0;t<i.count();t++){let e=i.get(t);Runtime.rtl.isString(e)&&(e=new Runtime.Serializer.TypeError(e),i.set(t,e)),e.addKey(n)}}_init(){super._init(),this.path=Runtime.Vector.create([]),this.message=""}static getClassName(){return"Runtime.Serializer.TypeError"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Serializer.TypeError"]=Runtime.Serializer.TypeError,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Serializer&&(Runtime.Serializer={}),Runtime.Serializer.VectorType=class extends Runtime.BaseObject{constructor(e){super(),Runtime.rtl.isImplements(e,"Runtime.Serializer.BaseType")?this.fields=Runtime.Vector.create([e]):e instanceof Runtime.Vector&&(this.fields=e)}walk(e,n,s){var r=Runtime.Vector.create([]);for(let i=0;i<e.count();i++){var a=Runtime.Vector.create([]);let t=e.get(i);for(let e=0;e<this.fields.count();e++){var o=this.fields.get(e);Runtime.rtl.isImplements(o,"Runtime.Serializer.BaseType")&&(t=s(o,t,a,i))}r.push(t),Runtime.Serializer.TypeError.addFieldErrors(a,i),n.appendItems(a)}return r}filter(e,t,s,r){return null==s&&(s=null),null==r&&(r=null),null!==e&&e instanceof Runtime.Vector?this.walk(e,t,(e,t,i,n)=>e.filter(t,i,s?s.get(n):null,r)):null}encode(e){var t;return null!==e&&e instanceof Runtime.Vector?(t=Runtime.Vector.create([]),this.walk(e,t,(e,t,i,n)=>e.encode(t))):null}_init(){super._init(),this.fields=Runtime.Vector.create([])}static getClassName(){return"Runtime.Serializer.VectorType"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.Serializer.BaseType"]}},window["Runtime.Serializer.VectorType"]=Runtime.Serializer.VectorType,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RenderHelper=class{static rgbToInt(e){"#"==this.substr(e,0,1)&&(e=this.substr(e,1));let t="",i="",n="";var s=this.strlen(e);return 3==s?(t=Runtime.rs.substr(e,0,1),t+=t,i=Runtime.rs.substr(e,1,1),i+=i,n=Runtime.rs.substr(e,2,1),n+=n):6==s&&(t=Runtime.rs.substr(e,0,2),i=Runtime.rs.substr(e,2,2),n=Runtime.rs.substr(e,4,2)),t=this.hexdec(t),i=this.hexdec(i),n=this.hexdec(n),Runtime.Vector.create([t,i,n])}static intToRgb(e,t,i){return(e=e.toString(16).padStart(2,"0"))+(t=t.toString(16).padStart(2,"0"))+(i=i.toString(16).padStart(2,"0"))}static brightness(e,t){e=this.rgbToInt(e);let i=e[0],n=e[1],s=e[2];return i=Runtime.Math.round(i+i*t/100),n=Runtime.Math.round(n+n*t/100),s=Runtime.Math.round(s+s*t/100),255<i&&(i=255),255<n&&(n=255),255<s&&(s=255),i<0&&(i=0),n<0&&(n=0),s<0&&(s=0),"#"+String(this.intToRgb(i,n,s))}static strip_tags(t,i){if(null==(i=null==i?null:i))t=Runtime.re.replace("<[^>]+>","",t);else{var n=Runtime.re.matchAll("<[^>]+>",t,"i");if(n)for(let e=0;e<n.count();e++){var s=n[e][0],r=Runtime.re.matchAll("<(\\/|)([a-zA-Z]+)(|[^>]*)>",s,"i");r&&(r=this.strtolower(r[0][2]),-1==i.indexOf(r))&&(t=this.replace(s,"",t))}}return t=Runtime.rs.trim(Runtime.rs.spaceless(t))}_init(){}static getClassName(){return"Runtime.Web.RenderHelper"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.RenderHelper"]=Runtime.Web.RenderHelper,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.Request=class extends Runtime.BaseObject{static METHOD_GET="GET";static METHOD_HEAD="HEAD";static METHOD_POST="POST";static METHOD_PUT="PUT";static METHOD_DELETE="DELETE";static METHOD_CONNECT="CONNECT";static METHOD_OPTIONS="OPTIONS";static METHOD_TRACE="TRACE";static METHOD_PATCH="PATCH";static serialize(e){super.serialize(e),e.addType("uri",new Runtime.Serializer.StringType),e.addType("full_uri",new Runtime.Serializer.StringType),e.addType("host",new Runtime.Serializer.StringType),e.addType("method",new Runtime.Serializer.StringType),e.addType("protocol",new Runtime.Serializer.StringType),e.addType("is_https",new Runtime.Serializer.StringType),e.addType("query",new Runtime.Serializer.MapType(new Runtime.Serializer.StringType))}assignRules(e){}getClientIP(){return Runtime.rtl.getContext().hook(Runtime.Web.Hooks.AppHook.CLIENT_IP,Runtime.Map.create({headers:this.headers,client_ip:this.headers.get("REMOTE_ADDR")})).get("client_ip")}initUri(e){var t=Runtime.rs.parse_url(e),i=t.get("uri"),t=t.get("query_arr");this.full_uri=e,this.uri=i,this.query=t,""==this.uri&&(this.uri="/");let n=Runtime.rtl.getContext().env("ROUTE_PREFIX");null==n&&(n="");e=Runtime.rs.strlen(n);0!=e&&Runtime.rs.substr(this.uri,0,e)==n&&(this.uri=Runtime.rs.substr(this.uri,e),this.full_uri=Runtime.rs.substr(this.full_uri,e))}_init(){super._init(),this.uri="",this.full_uri="",this.host="",this.method="GET",this.protocol="",this.is_https=!1,this.query=null}static getClassName(){return"Runtime.Web.Request"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.SerializeInterface"]}},window["Runtime.Web.Request"]=Runtime.Web.Request,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteInfo=class extends Runtime.BaseObject{constructor(e){null==e&&(e=null),super(),this._assign_values(e)}static serialize(e){super.serialize(e),e.addType("data",new Runtime.Serializer.MapType(new Runtime.Serializer.StringType)),e.addType("domain",new Runtime.Serializer.StringType),e.addType("label",new Runtime.Serializer.StringType),e.addType("layout",new Runtime.Serializer.StringType),e.addType("name",new Runtime.Serializer.StringType),e.addType("matches",new Runtime.Serializer.MapType(new Runtime.Serializer.StringType)),e.addType("params",new Runtime.Serializer.VectorType(new Runtime.Serializer.StringType)),e.addType("pos",new Runtime.Serializer.IntegerType),e.addType("route_class",new Runtime.Serializer.StringType),e.addType("uri",new Runtime.Serializer.StringType),e.addType("uri_match",new Runtime.Serializer.StringType)}copy(){return Runtime.rtl.copy(this)}getLayoutName(){return""!=this.layout?this.layout:""!=this.route_class?new Runtime.Method(this.route_class,"getLayoutName").apply():""}compile(){""==this.uri_match&&(this.uri_match="^"+String(Runtime.re.replace("\\/","\\/",this.uri))+String("$"));var t=Runtime.re.matchAll("{(.*?)}",this.uri);if(t){new Runtime.Vector;for(let e=0;e<t.count();e++){var i=t[e][1];this.uri_match=Runtime.re.replace("{"+String(i)+String("}"),"([^\\/]*?)",this.uri_match),this.params.push(i)}}else this.params=Runtime.Vector.create([])}addMatches(t){for(let e=0;e<this.params.count();e++){var i=this.params.get(e),n=t.get(e);this.matches.set(i,n)}}async callMiddleware(i){if(this.middleware)for(let t=0;t<this.middleware.count();t++){let e=null;var n=this.middleware.get(t);Runtime.rtl.isString(n)?e=Runtime.rtl.newInstance(n):n instanceof Runtime.Entity.Factory?e=n.factory():n instanceof Runtime.Web.BaseMiddleware&&(e=n),await e.apply(i)}if(this.route_class){var e=this.route_class,e=new Runtime.Method(e,"getMiddleware");if(e.exists()){var t=e.apply();for(let e=0;e<t.count();e++)await t.get(e).apply(i)}}}async render(e){throw new Runtime.Exceptions.RuntimeException("RouteInfo is abstract class")}_init(){super._init(),this.name=null,this.uri=null,this.uri_match=null,this.domain=null,this.label=null,this.layout=null,this.route_class=null,this.data=null,this.middleware=null,this.params=Runtime.Vector.create([]),this.matches=new Runtime.Map,this.is_backend=!1,this.pos=100}static getClassName(){return"Runtime.Web.RouteInfo"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.SerializeInterface"]}},window["Runtime.Web.RouteInfo"]=Runtime.Web.RouteInfo,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteList=class extends Runtime.BaseObject{static serialize(e){super.serialize(e),e.addType("routes",new Runtime.Serializer.MapType(new Runtime.Serializer.MapType(new Runtime.Serializer.StringType))),e.addType("route_params",new Runtime.Serializer.MapType(new Runtime.Serializer.StringType))}assignRules(e){}url(e,t,i){if(null==t&&(t=null),null==i&&(i=null),!this.routes.has(e))return"";null==t&&(t=new Runtime.Map),null==i&&(i=new Runtime.Map),t=this.route_params.concat(t);var n=this.routes.get(e),s=Runtime.rtl.getContext().hook(Runtime.Web.Hooks.AppHook.MAKE_URL_PARAMS,Runtime.Map.create({route:n,route_name:e,route_params:t,url_params:i})),r=n.get("domain");let a=n.get("uri"),o=(null!=t&&null!=a&&t.each((e,t)=>{0<=Runtime.rs.indexOf(a,"{"+String(t)+String("}"))&&(a=Runtime.rs.replace("{"+String(t)+String("}"),e,a))}),a=null==a?"":a);r&&(o="//"+String(r)+String(a));s=Runtime.rtl.getContext().hook(Runtime.Web.Hooks.AppHook.MAKE_URL,Runtime.Map.create({domain:r,route:n,route_name:e,route_params:t,url:a,url_with_domain:o,url_params:i||new Runtime.Map}));return!i||i.get("domain",!0)?s.get("url_with_domain"):s.get("url")}_init(){super._init(),this.routes=new Runtime.Map,this.route_params=new Runtime.Map}static getClassName(){return"Runtime.Web.RouteList"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.SerializeInterface"]}},window["Runtime.Web.RouteList"]=Runtime.Web.RouteList,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteAction=class extends Runtime.Web.RouteInfo{static serialize(e){super.serialize(e)}copy(){var e=super.copy();return e.action=this.action,e}compile(){super.compile(),Runtime.rtl.methodExists(this.route_class,this.action)?this.action=new Runtime.Method(this.route_class,this.action):this.action=new Runtime.Entity.Factory(this.route_class,Runtime.Map.create({action:this.action}))}async render(e){let t=null;var i;this.action instanceof Runtime.Method?t=this.action:this.action instanceof Runtime.Entity.Factory&&(i=this.action.createInstance(),t=new Runtime.Method(i,i.action)),t&&t.exists()&&await t.apply(Runtime.Vector.create([e]))}_init(){super._init(),this.action=null}static getClassName(){return"Runtime.Web.RouteAction"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.RouteAction"]=Runtime.Web.RouteAction,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RoutePage=class extends Runtime.Web.RouteInfo{static serialize(e){super.serialize(e),e.addType("page",new Runtime.Serializer.StringType)}async render(e){var t,i;e.layout.current_page_model="page_model",e.layout.pages.set("page_model",e.layout.createWidget("Runtime.BaseModel",Runtime.Map.create({component:this.page}))),this.data&&(t=this.data.get("title"),i=this.data.get("full_title",!1),e.layout.setPageTitle(t,i))}_init(){super._init(),this.page=""}static getClassName(){return"Runtime.Web.RoutePage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.RoutePage"]=Runtime.Web.RoutePage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteModel=class extends Runtime.Web.RouteInfo{static serialize(e){super.serialize(e),e.addType("model",new Runtime.Serializer.StringType),e.addType("model_params",new Runtime.Serializer.MapType)}async render(e){""!=this.model&&Runtime.rtl.classExists(this.model)&&await e.renderPageModel(this.model,this.model_params)}_init(){super._init(),this.model="",this.model_params=null}static getClassName(){return"Runtime.Web.RouteModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.RouteModel"]=Runtime.Web.RouteModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.RouteProvider=class extends Runtime.BaseProvider{async init(){await super.init(),await this.initRoutes(),this.register_hooks()}async initRoutes(){this.routes=new Runtime.Map;var t=Runtime.rtl.getContext().getEntities("Runtime.Web.Annotations.Route");for(let e=0;e<t.count();e++){var i=t[e];if(i.name){var n=new Runtime.Method(i.name,"getRoutes");if(!n.exists())throw new Runtime.Exceptions.ItemNotFound(i.name,"Route");var s=n.apply();if(s)for(let e=0;e<s.count();e++){var r=s.get(e);r.route_class=i.name,r.compile(),this.addRoute(r)}}}await Runtime.rtl.getContext().hook(Runtime.Web.Hooks.AppHook.ROUTES_INIT,Runtime.Map.create({routes:this})),this.sortRoutes()}addRoute(e){null===e.uri_match&&e.compile(),this.routes.set(e.name,Runtime.Map.create({uri:e.uri,domain:e.domain})),this.routes_list.push(e)}hasRoute(e){return this.routes.has(e)}sortRoutes(){var e=this.routes_list.map((e,t)=>Runtime.Vector.create([e,t]));e.sort((e,t)=>{var i=e.get(0).pos,n=t.get(0).pos;return i==n?e.get(1)-t.get(1):i-n}),this.routes_list=e.map(e=>e.get(0))}async start(){await super.start()}register_hooks(){Runtime.rtl.getContext().provider("hook").register(Runtime.Web.Hooks.AppHook.ROUTE_BEFORE,new Runtime.Method(this,"routeBefore"),50)}routeBefore(e){var e=e.get("container").layout,t=e.storage.createWidget("Runtime.Web.RouteList");t.routes=this.routes.copy(),e.storage.set("router",t)}getRoute(t){return this.routes_list.find(e=>e.name==t)}findRoute(i){if(null!==i.uri)for(let t=0;t<this.routes_list.count();t++){let e=this.routes_list.get(t);var n=this.matchRoute(i,e);if(null!=n)return(e=e.copy()).addMatches(n),e}return null}matchRoute(e,t){if(null==t)return null;if(t.domain&&t.domain!=e.host)return null;let i=Runtime.re.matchAll(t.uri_match,e.uri);i&&(i=i.get(0,null)).remove(0);t=Runtime.rtl.getContext().hook(Runtime.Web.Hooks.AppHook.MATCH_ROUTE,Runtime.Map.create({route:t,request:e,matches:i}));return null==(i=t.get("matches"))?null:i}_init(){super._init(),this.routes=new Runtime.Map,this.routes_list=Runtime.Vector.create([])}static getClassName(){return"Runtime.Web.RouteProvider"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.RouteProvider"]=Runtime.Web.RouteProvider,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.AppHook=class extends Runtime.Hooks.BaseHook{static ASSETS="runtime.web.app::assets";static CALL_API_BEFORE="runtime.web.app::call_api_before";static CLIENT_IP="runtime.web.app::client_ip";static FIND_API="runtime.web.app::find_api";static FIND_ROUTE_BEFORE="runtime.web.app::find_route_before";static FIND_ROUTE_AFTER="runtime.web.app::find_route_after";static MAKE_URL="runtime.web.app::make_url";static MAKE_URL_PARAMS="runtime.web.app::make_url_params";static MATCH_ROUTE="runtime.web.app::match_route";static RESPONSE="runtime.web.app::response";static ROUTES_INIT="runtime.web.app::routes_init";static ROUTE_AFTER="runtime.web.app::route_after";static ROUTE_MIDDLEWARE="runtime.web.app::route_middleware";static ROUTE_BEFORE="runtime.web.app::route_before";register_hooks(){super.register_hooks(),this.provider.setAsync(Runtime.Vector.create([this.constructor.FIND_ROUTE_AFTER,this.constructor.FIND_ROUTE_BEFORE,this.constructor.ROUTES_INIT,this.constructor.ROUTE_AFTER,this.constructor.ROUTE_MIDDLEWARE,this.constructor.ROUTE_BEFORE]))}_init(){super._init()}static getClassName(){return"Runtime.Web.Hooks.AppHook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.AppHook"]=Runtime.Web.Hooks.AppHook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.AssetsHook=class extends Runtime.Web.Hooks.AppHook{register_hooks(){this.register(this.constructor.ASSETS)}assets(e){var t=Runtime.rs.join_path(Runtime.Vector.create([Runtime.rtl.getContext().env("ROUTE_PREFIX"),"assets"]));e.set("assets_path",t)}_init(){super._init()}static getClassName(){return"Runtime.Web.Hooks.AssetsHook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.AssetsHook"]=Runtime.Web.Hooks.AssetsHook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.CanonicalUrl=class extends Runtime.Web.Hooks.AppHook{initParams(e){super.initParams(e),null!=e&&e.has("query")&&(this.query=e.get("query"))}register_hooks(){this.register(this.constructor.ROUTE_BEFORE)}route_before(e){var i=e.get("container").layout,e=i.getWidget("seo");if(e&&i.route&&null!=i.route.uri){let t=i.url(i.route.name,i.route.matches,Runtime.Map.create({domain:!1}));var n=i.request_query.keys().sort();for(let e=0;e<n.count();e++){var s,r=n.get(e);this.query.has(r)&&-1!=this.query.get(r).indexOf(i.route.name)&&(s=i.request_query.get(r),t=Runtime.rs.url_get_add(t,r,s))}e.setCanonicalUrl(t)}}_init(){super._init(),this.query=null}static getClassName(){return"Runtime.Web.Hooks.CanonicalUrl"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.CanonicalUrl"]=Runtime.Web.Hooks.CanonicalUrl,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.Components=class extends Runtime.Hooks.RuntimeHook{static hook(e){return new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({components:e}))}static header(e){return new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({header:e}))}static footer(e){return new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({footer:e}))}initParams(e){super.initParams(e),null!=e&&(e.has("components")&&this.items.set("components",e.get("components")),e.has("footer")&&this.items.set("footer",e.get("footer")),e.has("header"))&&this.items.set("header",e.get("header"))}register_hooks(){this.register(Runtime.Hooks.RuntimeHook.COMPONENTS,"components"),this.register(Runtime.Hooks.RuntimeHook.LAYOUT_HEADER,"render_head"),this.register(Runtime.Hooks.RuntimeHook.LAYOUT_FOOTER,"render_footer")}components(e){e.get("components").appendItems(this.items.get("components"))}render_head(e){e.get("components").appendItems(this.items.get("header"))}render_footer(e){e.get("components").appendItems(this.items.get("footer"))}_init(){super._init(),this.items=Runtime.Map.create({components:Runtime.Vector.create([]),footer:Runtime.Vector.create([]),header:Runtime.Vector.create([])})}static getClassName(){return"Runtime.Web.Hooks.Components"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.Components"]=Runtime.Web.Hooks.Components,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.DetectLanguage=class extends Runtime.Hooks.RuntimeHook{static hook(e){return new Runtime.Entity.Hook("Runtime.Web.Hooks.DetectLanguage",e)}initParams(e){super.initParams(e),e&&(e.has("allowed_languages")&&(this.allowed_languages=e.get("allowed_languages")),e.has("default_language")&&(this.default_language=e.get("default_language")),e.has("route_match_name"))&&(this.route_match_name=e.get("route_match_name"))}register_hooks(){}_init(){super._init(),this.default_language="en",this.route_match_name="lang",this.allowed_languages=Runtime.Vector.create([])}static getClassName(){return"Runtime.Web.Hooks.DetectLanguage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.DetectLanguage"]=Runtime.Web.Hooks.DetectLanguage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.PageNotFound=class extends Runtime.Hooks.RuntimeHook{static hook(e,t){return null==t&&(t="default"),new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({model:e,layout:t}))}initParams(e){super.initParams(e),e.has("model")&&(this.model=e.get("model"))}register_hooks(){super.register_hooks(),this.register(Runtime.Web.Hooks.AppHook.FIND_ROUTE_AFTER,"routeNotFound"),this.register(Runtime.Web.Hooks.AppHook.ROUTE_AFTER,"renderPageNotFound")}async routeNotFound(e){e=e.get("container");if(e.route)return null;e.route=new Runtime.Web.RouteModel(Runtime.Map.create({model:this.model,layout:this.layout_name}))}async renderPageNotFound(e){e=e.get("container");e.response||(null==e.layout&&e.createLayout(this.layout_name),e.layout.getPageModel())||await e.renderPageModel(this.model)}_init(){super._init(),this.model="",this.layout_name="default"}static getClassName(){return"Runtime.Web.Hooks.PageNotFound"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.PageNotFound"]=Runtime.Web.Hooks.PageNotFound,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.SetupLayout=class extends Runtime.Hooks.RuntimeHook{static hook(e){return new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({names:e}))}initParams(e){super.initParams(e),null!=e&&e.has("names")&&(this.names=e.get("names"))}register_hooks(){this.register(this.constructor.LAYOUT_NAME,"getLayoutName")}getLayoutName(e){var t=e.get("layout_name");this.names&&this.names.has(t)&&e.set("class_name",this.names.get(t))}_init(){super._init(),this.names=null}static getClassName(){return"Runtime.Web.Hooks.SetupLayout"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.SetupLayout"]=Runtime.Web.Hooks.SetupLayout,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),void 0===Runtime.Web.Hooks&&(Runtime.Web.Hooks={}),Runtime.Web.Hooks.WidgetModelFactory=class extends Runtime.Web.Hooks.AppHook{static hook(e){return new Runtime.Entity.Hook(this.getClassName(),Runtime.Map.create({model_name:e}))}initParams(e){super.initParams(e),null!=e&&e.has("model_name")&&(this.model_name=e.get("model_name"))}register_hooks(){}route_before(e){e=e.get("container");null==e.response&&e.layout.addWidget(this.model_name)}_init(){super._init(),this.model_name=""}static getClassName(){return"Runtime.Web.Hooks.WidgetModelFactory"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.Hooks.WidgetModelFactory"]=Runtime.Web.Hooks.WidgetModelFactory,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Web&&(Runtime.Web={}),Runtime.Web.ModuleDescription=class{static getModuleName(){return"Runtime.Web"}static getModuleVersion(){return"0.12.0"}static requiredModules(){return Runtime.Map.create({Runtime:">=0.12"})}static entities(){return Runtime.Vector.create([new Runtime.Entity.Provider("Runtime.Web.RouteProvider")])}_init(){}static getClassName(){return"Runtime.Web.ModuleDescription"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Web.ModuleDescription"]=Runtime.Web.ModuleDescription,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.AppHook=class extends Runtime.Hooks.RuntimeHook{register_hooks(){this.register(this.constructor.COMPONENTS,"components",50)}components(e){var t=Runtime.Vector.create(["Runtime.Widget.CSS"]);t.appendItems(e.get("components")),e.set("components",t)}_init(){super._init()}static getClassName(){return"Runtime.Widget.AppHook"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.AppHook"]=Runtime.Widget.AppHook,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Button={name:"Runtime.Widget.Button",extends:Runtime.Component,props:{type:{default:"button"},target:{default:"_self"},content:{default:""},href:{default:null},styles:{default:Runtime.Vector.create([])}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return(null==this.href?i.element("button",new Runtime.Map({type:this.type,class:e.className(["button",Runtime.rs.mergeStyles("button",this.styles),this.class,t]),onClick:this.onClick,"@ref":"widget"})):i.element("a",new Runtime.Map({class:e.className(["button",this.class,Runtime.rs.mergeStyles("button",this.styles),t]),href:this.href,target:this.target,onClick:this.onClick,"@ref":"widget"}))).push(this.renderSlot("default")),i},onClick:function(e){e.stopPropagation()},getClassName:function(){return"Runtime.Widget.Button"}},getComponentStyle:function(){return".button{display: inline-flex;align-items: center;justify-content: center;color: var(--color-text);font-weight: 500;font-family: var(--font-family);font-size: var(--font-input-size);line-height: var(--line-height);text-decoration: none;background-color: var(--color-background);border: var(--border-width) var(--color-border) solid;padding: calc(var(--space) * 0.75) calc(var(--space) * 1.5);outline: none;cursor: pointer;border-radius: var(--border-radius);transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.button:active{box-shadow: inset 0px 2px 5px 0px rgba(0,0,0,0.25);outline: none}.button--small{padding: calc(var(--space) * 0.5) calc(var(--space) * 1);line-height: 1.2em}.button--large{padding: calc(var(--space) * 1) calc(var(--space) * 2)}.button--primary{color: var(--color-primary-text);background-color: var(--color-primary);border-color: var(--color-primary-border)}.button--primary:hover{background-color: var(--color-primary-hover)}.button--secondary{color: var(--color-secondary-text);background-color: var(--color-secondary);border-color: var(--color-secondary-border)}.button--secondary:hover{background-color: var(--color-secondary-hover)}.button--outline{background-color: transparent;color: var(--color-text);border-color: var(--color-border)}.button--outline:hover{background-color: var(--color-surface)}.button--danger{color: var(--color-danger-text);background-color: var(--color-danger);border-color: var(--color-danger-border)}.button--danger:hover{background-color: var(--color-danger-hover)}.button--success{color: var(--color-success-text);background-color: var(--color-success);border-color: var(--color-success-border)}.button--success:hover{background-color: var(--color-success-hover)}.button--info{color: var(--color-info-text);background-color: var(--color-info);border-color: var(--color-info-border)}.button--info:hover{background-color: var(--color-info-hover)}.button--warning{background-color: var(--color-warning);border-color: var(--color-warning-border)}.button--warning:hover{background-color: var(--color-warning-hover)}.button--stretch{width: 100%}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Button"]=Runtime.Widget.Button,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.CSS={name:"Runtime.Widget.CSS",extends:Runtime.Component,methods:{getClassName:function(){return"Runtime.Widget.CSS"}},getComponentStyle:function(){return":root{--font-family: 'Arial', sans-serif;--font-size: 16px;--font-size-h1: 2.2rem;--font-size-h2: 1.8rem;--font-size-h3: 1.5rem;--font-size-h4: 1.2rem;--font-size-h5: 1rem;--font-size-h6: 1rem;--font-input-size: 16px;--line-height: 1.6;--space: 0.5rem;--color-background: #ffffff;--color-surface: #f8f9fa;--color-border: #e0e1e6;--color-shadow: rgba(0, 0, 0, 0.1);--color-primary: #337ab7;--color-primary-border: #337ab7;--color-primary-hover: #2563eb;--color-primary-text: #ffffff;--color-secondary: #6c757d;--color-secondary-border: #6c757d;--color-secondary-hover: #545b62;--color-secondary-text: #ffffff;--color-success: #198754;--color-success-border: #198754;--color-success-hover: #1e7e34;--color-success-text: #ffffff;--color-danger: #dc3545;--color-danger-danger: #dc3545;--color-danger-hover: #c82333;--color-danger-text: #ffffff;--color-warning: #fbbf24;--color-warning-border: #fbbf24;--color-warning-hover: #e0a800;--color-warinng-text: #212529;--color-info: #60a5fa;--color-info-border: #60a5fa;--color-info-hover: #117a8b;--color-info-text: #ffffff;--color-text: #212529;--color-text-secondary: #6c757d;--color-heading-text: #343a40;--color-link: var(--color-primary);--color-link-hover: var(--color-primary-dark);--color-hover: rgba(0, 0, 0, 0.05);--color-selected: var(--color-primary);--color-selected-text: #ffffff;--border-radius: 6px;--border-radius-large: 12px;--border-width: 1px;--shadow-small: 0 1px 2px 0 rgba(0, 0, 0, 0.05);--shadow-medium: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);--shadow-large: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);--transition: 0.3s;--transition-type: ease-in-out;--transition-background: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type);--content-max-width: 1280px;--content-tablet-width: 1024px;--content-mobile-width: 768px;--padding-desktop: 2rem;--padding-tablet: 1.5rem;--padding-mobile: 1rem}.theme_dark{--color-background: #1a202c;--color-surface: #2d3748;--color-border: #4a5568;--color-shadow: rgba(0, 0, 0, 0.3);--color-primary: #63b3ed;--color-primary-light: #90cdf4;--color-primary-dark: #4299e1;--color-primary-text: #ffffff;--color-secondary: #a0aec0;--color-secondary-light: #1a202c;--color-secondary-dark: #cbd5e0;--color-secondary-text: #718096;--color-success: #68d391;--color-success-light: #5cb870;--color-success-dark: #1e7e34;--color-success-text: #ffffff;--color-danger: #fc8181;--color-danger-light: #e4606d;--color-danger-dark: #c82333;--color-danger-text: #ffffff;--color-warning: #f6e05e;--color-warning-light: #ffcd38;--color-warning-dark: #e0a800;--color-warinng-text: #212529;--color-info: #63b3ed;--color-info-light: #4bd2e3;--color-info-dark: #117a8b;--color-info-text: #ffffff;--color-text: #e2e8f0;--color-text-secondary: #a0aec0;--color-heading-text: #ffffff;--color-link: var(--color-primary);--color-link-hover: var(--color-primary-light)}body, html{scroll-behavior: smooth;transition: background-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.root_container{font-family: var(--font-family);font-size: var(--font-size);line-height: var(--line-height);box-sizing: border-box;width: 100%;padding: 0;margin: 0}.root_container *{box-sizing: border-box}.root_container h1, .root_container h2, .root_container h3, .root_container h4, .root_container h5, .root_container h6{font-family: var(--font-family);color: var(--color-heading-text);margin-top: calc(var(--space) * 3);margin-bottom: var(--space);line-height: 1.2;transition: background-color var(--transition) ease,\n\t\tcolor var(--transition) ease}.root_container h1{font-size: var(--font-size-h1);margin-top: 0}.root_container h2{font-size: var(--font-size-h2)}.root_container h3{font-size: var(--font-size-h3)}.root_container h4{font-size: var(--font-size-h4)}.root_container h5{font-size: var(--font-size-h5)}.root_container h6{font-size: var(--font-size-h6)}.root_container p{margin-bottom: 1em;transition: background-color var(--transition) ease,\n\t\tcolor var(--transition) ease}.link{text-decoration: none;color: var(--color-link);cursor: pointer}.link:hover, .link:visited:hover{text-decoration: underline;color: red}.link:visited{text-decoration: none;color: var(--color-link)}.nolink{text-decoration: inherit;color: inherit}.nolink:hover, .nolink:visited, .nolink:visited:hover{text-decoration: inherit;color: inherit}.cursor{cursor: pointer}.nowrap{white-space: nowrap}.bold{font-weight: bold}.nobold{font-weight: normal}.underline{text-decoration: underline}.center{text-align: center}.left{text-align: left}.right{text-align: right}.clear{clear: both}.hidden{display: none}.inline-block{display: inline-block}.scroll-lock{overflow: hidden}.scroll-lock .core_ui_root{padding-right: 15px}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.CSS"]=Runtime.Widget.CSS,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Field={name:"Runtime.Widget.Field",extends:Runtime.Component,props:{readonly:{default:!1},id:{default:""},name:{default:""},value:{default:""},default:{default:""},placeholder:{default:""},type:{default:"text"}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["field",t])})),i},getProps:function(){var e=new Runtime.Map;return this.readonly&&e.set("readonly",!0),this.id&&e.set("id",this.id),new Runtime.Map},getClassName:function(){return"Runtime.Widget.Field"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Field"]=Runtime.Widget.Field,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Image={name:"Runtime.Widget.Image",extends:Runtime.Component,props:{src:{default:""}},methods:{renderNoImage:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["image__no_image",t])})).push("No image"),i},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return this.src?i.element("img",new Runtime.Map({class:e.className(["image",this.class,t]),src:this.src,key:"image"})):i.element("div",new Runtime.Map({class:e.className(["image",this.class,t]),key:"no_image"})).push(this.renderNoImage()),i},getClassName:function(){return"Runtime.Widget.Image"}},getComponentStyle:function(){return".image.h-3404{display: inline-block}.image__no_image.h-3404{display: flex;align-items: center;justify-content: center;font-size: 20px;text-transform: uppercase;width: 270px;height: 70px}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Image"]=Runtime.Widget.Image,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Input={name:"Runtime.Widget.Input",extends:Runtime.Widget.Field,props:{direct_update:{default:!1},readonly:{default:!1},name:{default:""},value:{default:""},default:{default:""},placeholder:{default:""},type:{default:"text"}},data:function(){return{change_timer:null}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getProps();return i.element("input",new Runtime.Map({class:e.className(["input",t]),type:this.type,name:this.name,value:this.getValue(),placeholder:this.placeholder,"@ref":"input",onChange:this.onChange,onKeydown:this.onKeyDown}).concat(n)),i},getValue:function(){return this.value||this.default},onKeyDown:function(e){this.direct_update&&(null!=this.change_timer&&(window.clearTimeout(this.change_timer),this.change_timer=null),this.change_timer=window.setTimeout(()=>{this.onChange()},300))},onChange:function(e){var t=this.getRef("input");this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:t.value,old_value:this.value,data:this.data})))},getClassName:function(){return"Runtime.Widget.Input"}},getComponentStyle:function(){return".input.h-f2de{width: 100%;font-family: var(--font-family);font-size: var(--font-input-size);padding: calc(var(--space) * 0.75) calc(var(--space) * 1.5);background-color: var(--color-background);border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: var(--border-radius);box-shadow: none;color: var(--text-color);outline: transparent;line-height: normal;min-height: 32px;transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.input.h-f2de:focus{outline: transparent}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Input"]=Runtime.Widget.Input,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Label={name:"Runtime.Widget.Label",extends:Runtime.Component,props:{value:{default:""}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("label",new Runtime.Map({class:e.className(["label",t])}));if(Runtime.rtl.isString(this.value))n.push(Runtime.rtl.isEmpty(this.value)?"":this.value);else if(Runtime.rtl.is_instanceof(this.value,"Runtime.Vector"))for(let e=0;e<this.value.count();e++){var s=this.value.get(e);n.element("span").push(Runtime.rtl.isEmpty(s)?"":s)}return i},getClassName:function(){return"Runtime.Widget.Label"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Label"]=Runtime.Widget.Label,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Link={name:"Runtime.Widget.Link",extends:Runtime.Component,props:{href:{default:""},text:{default:""},target:{default:"_self"}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);let n=new Runtime.Map;return""!=this.target&&(n=n.set("target",this.target)),i.element("a",new Runtime.Map({class:e.className([this.class,t]),href:this.href}).concat(n)).push(this.text),i},getClassName:function(){return"Runtime.Widget.Link"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Link"]=Runtime.Widget.Link,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Menu={name:"Runtime.Widget.Menu",extends:Runtime.Component,props:{items:{default:Runtime.Vector.create([])}},methods:{render:function(){var t=use("Runtime.rs"),i=t.getComponentHash(this.getClassName()),e=new Runtime.VirtualDom(this),n=e.element("div",new Runtime.Map({class:t.className(["menu",this.class,i])}));for(let e=0;e<this.items.count();e++){var s=this.items.get(e);n.element("div",new Runtime.Map({class:t.className(["menu__item",this.menuActive(s.get("name"))?"active":"",i])})).element("a",new Runtime.Map({href:s.get("href"),class:t.className(["nolink",i])})).push(s.get("label"))}return e},menuActive:function(e){return null!=this.layout.route&&this.layout.route.name==e},getClassName:function(){return"Runtime.Widget.Menu"}},getComponentStyle:function(){return".menu__item.h-35e a{display: block;padding: var(--space);border-bottom: 1px solid var(--color-border)}.menu__item.h-35e a:hover{background-color: var(--color-hover)}.menu__item.active.h-35e a, .menu__item.active.h-35e a.nolink, .menu__item.active.h-35e a.nolink:visited{background-color: var(--color-selected);border-color: var(--color-selected);color: var(--color-selected-text)}.menu__item.h-35e:last-child a{border-bottom-width: 0px}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Menu"]=Runtime.Widget.Menu,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Pagination={name:"Runtime.Widget.Pagination",extends:Runtime.Component,props:{page:{default:1},pages:{default:1},delta:{default:5},name:{default:""}},methods:{render:function(){var e=use("Runtime.rs"),i=e.getComponentHash(this.getClassName()),t=new Runtime.VirtualDom(this),n=Runtime.rtl.max(2,this.page-this.delta+1),s=Runtime.rtl.min(this.page+this.delta,this.pages-1),r=new Runtime.Map,a=t.element("nav",new Runtime.Map({class:e.className(["pagination",i])}));if(1<this.pages){var o=a.element("ul");if(this.name&&r.set("href",this.getPageUrl(1)),o.element("li",new Runtime.Map({class:e.className([1==this.page?"active":"",i]),key:1})).element("a",new Runtime.Map({onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onClick(1)})}).concat(r)).push("1"),2<n&&o.element("li",new Runtime.Map({key:"before"})).push("..."),n<=s)for(let t=n;t<=s;t++)this.name&&r.set("href",this.getPageUrl(t)),o.element("li",new Runtime.Map({class:e.className([this.page==t?"active":"",i]),key:t})).element("a",new Runtime.Map({onClick:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onClick(t)})}).concat(r)).push(t);s<this.pages-1&&o.element("li",new Runtime.Map({key:"after"})).push("..."),1<this.pages&&(this.name&&r.set("href",this.getPageUrl(this.pages)),o.element("li",new Runtime.Map({class:e.className([this.page==this.pages?"active":"",i]),key:this.pages})).element("a",new Runtime.Map({onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{this.onClick(this.pages)})}).concat(r)).push(this.pages))}return t},getPageUrl:function(e){var t=this.layout.request_full_uri;return Runtime.rs.url_get_add(t,this.name,e)},onClick:function(e){this.name||this.emit("page",e)},getClassName:function(){return"Runtime.Widget.Pagination"}},getComponentStyle:function(){return".pagination.h-e7d5{text-align: center;padding: var(--space) 0;width: 100%}.pagination.h-e7d5 ul, .pagination.h-e7d5 li{padding: 0;margin: 0}.pagination.h-e7d5 li{display: inline-block;vertical-align: top;list-style: none;margin-left: calc(var(--space) * 0.5);margin-right: calc(var(--space) * 0.5)}.pagination.h-e7d5 a, .pagination.h-e7d5 a:hover, .pagination.h-e7d5 span{display: flex;align-items: center;justify-content: center;background-color: var(--color-surface);border-color: var(--color-border);border-width: var(--border-width);border-style: solid;border-radius: var(--border-radius);color: var(--color-surface-text);text-align: center;width: 30px;height: 30px;line-height: 0;font-size: var(--font-size);text-decoration: none}.pagination.h-e7d5 li:first-child{margin-left: 0px}.pagination.h-e7d5 li.active a, .pagination.h-e7d5 li.active a:hover{background-color: var(--color-selected);border-color: var(--color-selected);color: var(--color-selected-text)}.pagination.h-e7d5 li a:focus{outline: 0;box-shadow: none}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Pagination"]=Runtime.Widget.Pagination,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Result={name:"Runtime.Widget.Result",extends:Runtime.Component,methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["result",this.class,this.getErrorClass(),t])})).push(this.model.message),i},getErrorClass:function(){return""==this.model.message?"result--hide":this.model.isSuccess()?"result--success":this.model.isError()?"result--error":""},getClassName:function(){return"Runtime.Widget.Result"}},getComponentStyle:function(){return".result--center.h-4c3d{text-align: center}.result--margin_top.h-4c3d, .result--margin_bottom.h-4c3d{margin-top: calc(var(--space) * 2)}.result--field.h-4c3d{margin-top: calc(var(--space) * 0.5)}.result--form.h-4c3d{text-align: center;margin-top: calc(var(--space) * 2);margin-bottom: calc(var(--space) * 2)}.result--form.h-4c3d:last-child{margin-bottom: 0}.result--success.h-4c3d{color: var(--color-success)}.result--error.h-4c3d{color: var(--color-danger)}.result--hide.h-4c3d{display: none}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Result"]=Runtime.Widget.Result,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.ResultModel=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("code",new Runtime.Serializer.IntegerType),e.addType("message",new Runtime.Serializer.StringType)}initParams(e){super.initParams(e)}setMessage(e){this.message=e}setSuccess(e,t){this.code=t=null==t?1:t,this.message=e}setError(e,t){this.code=t=null==t?-1:t,this.message=e}setException(e){this.code=e.getErrorCode(),this.message=e.getErrorMessage()}setApiResult(e){this.code=e.code,this.message=e.message}setWaitMessage(e){null==e&&(e=""),this.code=0,this.message=""!=e?e:"Wait please ..."}clear(){this.code=0,this.message=""}isError(){return this.code<0}isSuccess(){return 0<this.code}_init(){super._init(),this.code=0,this.message="",this.component="Runtime.Widget.Result"}static getClassName(){return"Runtime.Widget.ResultModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.ResultModel"]=Runtime.Widget.ResultModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.RowButtons={name:"Runtime.Widget.RowButtons",extends:Runtime.Component,methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["row_buttons",this.class,t])})).push(this.renderSlot("default")),i},getClassName:function(){return"Runtime.Widget.RowButtons"}},getComponentStyle:function(){return".row_buttons.h-a597{display: flex;gap: calc(var(--space) * 0.5)}.row_buttons.margin_top.h-a597{margin-top: calc(var(--space) * 2)}.row_buttons.margin_bottom.h-a597{margin-bottom: calc(var(--space) * 2)}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.RowButtons"]=Runtime.Widget.RowButtons,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Container={name:"Runtime.Widget.Container",extends:Runtime.Component,methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["container",this.class,t])})).push(this.renderSlot("default")),i},getClassName:function(){return"Runtime.Widget.Container"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Container"]=Runtime.Widget.Container,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Section={name:"Runtime.Widget.Section",extends:Runtime.Component,props:{id:{default:""},wrap:{default:"true"},flex:{default:"false"},align_items:{default:""},justify_content:{default:""},flex_wrap:{default:""},height:{default:""},min_height:{default:""}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getAttrs,n=i.element("div",new Runtime.Map({class:e.className(["section",this.class,t]),style:this.getStyle()}).concat(n));return("true"==this.wrap?n.element("div",new Runtime.Map({class:e.className(["section__wrap",t]),style:this.getWrapStyle()})):n).push(this.renderSlot("default")),i},getStyle:function(){var e=Runtime.Vector.create([]);return this.wrap||e.push(this.getWrapStyle()),Runtime.rs.join(";",e)},getWrapStyle:function(){var e=Runtime.Vector.create([]);return"true"==this.flex&&(e.push("display: flex;"),this.align_items&&e.push("align-items: "+String(this.align_items)),this.justify_content&&e.push("justify-content: "+String(this.justify_content)),this.flex_wrap)&&e.push("flex-wrap: "+String(this.flex_wrap)),this.height&&e.push("height: "+String(this.height)),this.min_height&&e.push("min-height: "+String(this.min_height)),Runtime.rs.join(";",e)},getClassName:function(){return"Runtime.Widget.Section"}},computed:{getAttrs:function(){var e=new Runtime.Map;return""!=this.id&&e.set("id",this.id),e}},getComponentStyle:function(){return".section__wrap.h-c82a{max-width: var(--content-max-width);margin-left: auto;margin-right: auto;padding: 0px var(--padding-desktop)}@media(max-width: 1000px){.section__wrap.h-c82a{padding: 0px var(--padding-tablet)}}@media(max-width: 768px){.section__wrap.h-c82a{padding: 0px var(--padding-mobile)}}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Section"]=Runtime.Widget.Section,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Select={name:"Runtime.Widget.Select",extends:Runtime.Widget.Field,props:{name:{default:""},value:{default:""},default:{default:""},options:{default:null},show_select_value:{default:!0}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getProps(),s=i.element("select",new Runtime.Map({name:this.name,class:e.className(["select",this.class,t]),onChange:this.onChange}).concat(n)),r=this.getValue(),a=this.getOptions();let o=new Runtime.Map;if(!0!==this.show_select_value&&"true"!=this.show_select_value||(""!==r&&null!==r||(o=Runtime.Map.create({selected:"selected"})),s.element("option",new Runtime.Map({key:":select_value",value:""}).concat(o)).push("Select value")),null!=a)for(let e=0;e<a.count();e++){var u=a.get(e);o=new Runtime.Map,u.get("key")==r&&""!==r&&null!==r&&(o=Runtime.Map.create({selected:"selected"})),s.element("option",new Runtime.Map({key:u.get("key"),value:""+String(u.get("key"))}).concat(o)).push(u.get("value"))}return i},getValue:function(){return""!==this.value&&null!==this.value?this.value:this.default},getOptions:function(){return null==this.model?this.options:this.model.getOptions()},onChange:function(e){this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:e.target.value,old_value:this.value,data:this.data})))},getClassName:function(){return"Runtime.Widget.Select"}},getComponentStyle:function(){return".select.h-d72c, .select.h-d72c:focus{width: 100%;font-family: var(--font-family);font-size: var(--font-input-size);padding: calc(var(--space) * 0.75) calc(var(--space) * 1.5);background-color: var(--color-background);border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: var(--border-radius);box-shadow: none;outline: transparent;line-height: normal;color: inherit;max-width: 100%;min-height: 32px;transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.widget_select.h-d72c:hover{color: inherit}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Select"]=Runtime.Widget.Select,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Tag={name:"Runtime.Widget.Tag",extends:Runtime.Component,props:{name:{default:""},value:{default:Runtime.Vector.create([])}},methods:{render:function(){var e=use("Runtime.rs"),i=e.getComponentHash(this.getClassName()),t=new Runtime.VirtualDom(this),n=t.element("div",new Runtime.Map({class:e.className(["tag",i])}));if(this.value)for(let t=0;t<this.value.count();t++){var s=n.element("div",new Runtime.Map({class:e.className(["tag__item",i])}));s.element("div",new Runtime.Map({class:e.className(["tag__text",i]),contenteditable:"true",onBlur:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onTextChange(t,e.target.innerText)}),onKeydown:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onTextKeyDown(t,e.target.innerText,e)})})).push(this.value.get(t)),s.element("div",new Runtime.Map({class:e.className(["tag__close",i]),onClick:this.hash(2)?this.hash(2):this.hash(2,()=>{this.onCloseClick(t)})})).push("x")}return n.element("span",new Runtime.Map({class:e.className(["tag__span",i]),contenteditable:"true",onBlur:this.onSpanBlur,onKeydown:this.onSpanKeyDown,"@ref":"span"})),t},onTextChange:function(e,t){var i=this.value.slice();this.value.set(e,t),this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:i,data:this.data})))},onTextKeyDown:function(e,t,i){var n;if(13==i.keyCode)return n=this.value.slice(),this.value.set(e,t),this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:n,data:this.data}))),i.preventDefault(),!1},onCloseClick:function(e){var t=this.value.slice();this.value.remove(e),this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:t,data:this.data})))},onSpanBlur:function(e){var t,i=this.getRef("span");""!=i.innerText&&(t=this.value.slice(),this.value.push(i.innerText),i.innerText="",this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:t,data:this.data}))))},onSpanKeyDown:function(e){if(13==e.keyCode){var t,i=this.getRef("span");if(""!=i.innerText)return t=this.value.slice(),this.value.push(i.innerText),i.innerText="",this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:t,data:this.data}))),e.preventDefault(),!1}},getClassName:function(){return"Runtime.Widget.Tag"}},getComponentStyle:function(){return".tag.h-27ed{display: flex;flex-wrap: wrap;font-family: var(--font-family);font-size: var(--font-size);background-color: var(--color-default);border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: var(--border-radius);box-shadow: none;outline: transparent;line-height: normal;padding: var(--space);min-height: 40px;width: 100%}.tag__item.h-27ed{display: flex;align-items: stretch;justify-content: space-between;border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: 4px;padding: 3px 5px;margin: 5px}.tag__text.h-27ed{overflow-wrap: anywhere;outline: 0}.tag__close.h-27ed{display: inline-flex;align-items: center;justify-content: center;margin-left: 5px;cursor: pointer}.tag__span.h-27ed{overflow-wrap: anywhere;min-width: 100px;padding: 3px;margin: 5px;outline: 0}.tag__span.h-27ed:first-child{padding-left: 0}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Tag"]=Runtime.Widget.Tag,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.Text={name:"Runtime.Widget.Text",extends:Runtime.Component,props:{tag:{default:"text"},raw:{default:"false"},content:{default:"Text"}},methods:{renderContent:function(){use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this),i=Runtime.rs.split("\n",this.content);if(1==i.count())t.push(this.renderText(i.get(0)));else for(let e=0;e<i.count();e++){var n=i.get(e);t.element("div",new Runtime.Map({key:e})).push(this.renderText(n))}return t},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return("p"==this.tag?i.element("p",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})):"h1"==this.tag?i.element("h1",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})):"h2"==this.tag?i.element("h2",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})):"h3"==this.tag?i.element("h3",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})):"h4"==this.tag?i.element("h4",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})):(this.tag,i.element("div",new Runtime.Map({class:e.className(["text",this.class,t]),key:this.getKey()})))).push(this.renderContent()),i},getKey:function(){let e=this.tag;return"true"==this.raw&&(e+=String("-raw")),e},renderText:function(e){var t=new Runtime.VirtualDom;return t.push(e),t.is_raw="true"==this.raw,t},getClassName:function(){return"Runtime.Widget.Text"}},getComponentStyle:function(){return".text.h-8fb4{padding: 0;margin: 0}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Text"]=Runtime.Widget.Text,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.TextArea={name:"Runtime.Widget.TextArea",extends:Runtime.Widget.Field,props:{direct_update:{default:!1},readonly:{default:!1},height:{default:""},name:{default:""},value:{default:""},placeholder:{default:""}},data:function(){return{change_timer:null}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getProps();return i.element("textarea",new Runtime.Map({class:e.className(["textarea",this.class,t]),name:this.name,placeholder:this.placeholder,style:this.getStyle(),"@ref":"textarea",onChange:this.onChange,onKeydown:this.onKeyDown}).concat(n)).push(this.value),i},getStyle:function(){var e=Runtime.Vector.create([]);return this.height&&e.push("min-height: "+String(this.height)),Runtime.rs.join(";",e)},onKeyDown:function(e){this.direct_update&&(null!=this.change_timer&&(window.clearTimeout(this.change_timer),this.change_timer=null),this.change_timer=window.setTimeout(()=>{this.onChange()},300))},onChange:function(){var e=this.getRef("textarea");this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:e.value,old_value:this.value,data:this.data})))},getClassName:function(){return"Runtime.Widget.TextArea"}},updated:function(){this.getRef("textarea").value=this.value},getComponentStyle:function(){return".textarea.h-ee81{width: 100%;max-width: 100%;font-family: var(--font-family);font-size: var(--font-input-size);padding: calc(var(--space) * 0.75) calc(var(--space) * 1.5);background-color: var(--color-background);border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: var(--space);box-shadow: none;outline: transparent;line-height: normal;transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.textarea.h-ee81:focus{outline: transparent}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.TextArea"]=Runtime.Widget.TextArea,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.TextEditable={name:"Runtime.Widget.TextEditable",extends:Runtime.Widget.Field,props:{reference:{default:null},readonly:{default:!1},timeout:{default:500},name:{default:""},value:{default:""}},data:function(){return{change_timer:null,old_value:null}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getProps();return i.element("div",new Runtime.Map({class:e.className(["text_editable",this.class,t]),name:this.name,contenteditable:"plaintext-only",onKeydown:this.onKeyDown,onInput:this.onInput,onBlur:this.onChange,"@ref":"text"}).concat(n)),i},getValue:function(){return this.getRef("text").innerText},setValue:function(e){this.getRef("text").innerText=e,this.old_value=e},getProps:function(){return this.readonly?Runtime.Map.create({readonly:!0}):new Runtime.Map},onKeyDown:function(e){var t;"Tab"==e.key&&(e.preventDefault(),e.stopPropagation(),e=this.getRef("text").ownerDocument.defaultView.getSelection().getRangeAt(0),t=document.createTextNode("\t"),e.insertNode(t),e.setStartAfter(t),e.setEndAfter(t))},onInput:function(e){null!=this.change_timer&&(window.clearTimeout(this.change_timer),this.change_timer=null),this.change_timer=window.setTimeout(()=>{this.onChange()},this.timeout)},onChange:function(e){var t=this.getValue();this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:t,old_value:this.old_value,data:this.data}))),this.old_value=t,this.change_timer=null},getClassName:function(){return"Runtime.Widget.TextEditable"}},mounted:function(){this.reference&&this.reference.setValue(this),this.setValue(this.value)},updated:function(){this.old_value==this.value||this.change_timer||this.setValue(this.value)},getComponentStyle:function(){return".text_editable.h-86cc{width: 100%;max-width: 100%;font-family: var(--font-family);font-size: var(--font-input-size);padding: calc(var(--space) * 0.75) calc(var(--space) * 1.5);margin: 0;background-color: var(--color-default);border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: var(--space);transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type);box-shadow: none;overflow: auto;overflow-wrap: break-word;outline: transparent;line-height: normal;tab-size: 4;text-wrap: wrap;white-space: pre}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.TextEditable"]=Runtime.Widget.TextEditable,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.TextImage={name:"Runtime.Widget.TextImage",extends:Runtime.Component,props:{kind:{default:"text_right"},image:{default:""},content:{default:""}},methods:{renderContent:function(){use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this),i=Runtime.rs.split("\n",this.content);if(1==i.count())t.push(i.get(0));else for(let e=0;e<i.count();e++){var n=i.get(e);t.element("div").push(Runtime.rtl.isEmpty(n)?"":n)}return t},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["text_image",this.getClass(),this.class,t])}));return"text_bottom"==this.kind||"text_right"==this.kind?(n.element("div",new Runtime.Map({class:e.className(["text_image__image",t])})).element("Runtime.Widget.Image",new Runtime.Map({src:this.image})),n.element("div",new Runtime.Map({class:e.className(["text_image__text",t])})).push(this.renderContent(this.content))):"text_top"!=this.kind&&"text_left"!=this.kind||(n.element("div",new Runtime.Map({class:e.className(["text_image__text",t])})).push(this.renderContent(this.content)),n.element("div",new Runtime.Map({class:e.className(["text_image__image",t])})).element("Runtime.Widget.Image",new Runtime.Map({src:this.image}))),i},getClass:function(){var e=Runtime.Vector.create([]);return e.push("widget_text_image--"+String(this.kind)),Runtime.rs.join(" ",e)},getClassName:function(){return"Runtime.Widget.TextImage"}},getComponentStyle:function(){return".text_image--text_left.h-e2c6, .text_image--text_right.h-e2c6{display: flex;align-items: center;justify-content: space-between}.text_image--text_top.h-e2c6, .text_image--text_bottom.h-e2c6{text-align: center}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Image")}},window["Runtime.Widget.TextImage"]=Runtime.Widget.TextImage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.UploadFileButton={name:"Runtime.Widget.UploadFileButton",extends:Runtime.Widget.Button,methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["upload_file_button",t])}));return e.push(Runtime.Widget.Button.methods.render.call(this)),e.element("input",new Runtime.Map({type:"file","@ref":"upload_file",onChange:this.onFileUploadChange})),i},onClick:function(e){this.getRef("upload_file").click()},onFileUploadChange:function(e){var t=this.getRef("upload_file").files[0];t&&(t=new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({name:"file",value:t,data:this.data})),this.emit(t),this.model)&&this.model.emit(t)},getClassName:function(){return"Runtime.Widget.UploadFileButton"}},getComponentStyle:function(){return".upload_file_button.h-a4c6 input{display: none}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.UploadFileButton"]=Runtime.Widget.UploadFileButton,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Messages&&(Runtime.Widget.Messages={}),Runtime.Widget.Messages.ClickMessage=class extends Runtime.Message{constructor(e){super(e=null==e?null:e),this.name="click"}_init(){super._init()}static getClassName(){return"Runtime.Widget.Messages.ClickMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Messages.ClickMessage"]=Runtime.Widget.Messages.ClickMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Messages&&(Runtime.Widget.Messages={}),Runtime.Widget.Messages.ValueChangeMessage=class extends Runtime.Message{_init(){super._init(),this.name="valueChange",this.value=null,this.old_value=null}static getClassName(){return"Runtime.Widget.Messages.ValueChangeMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Messages.ValueChangeMessage"]=Runtime.Widget.Messages.ValueChangeMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),Runtime.Widget.ModuleDescription=class{static getModuleName(){return"Runtime.Widget"}static getModuleVersion(){return"0.12.1"}static requiredModules(){return Runtime.Map.create({})}static entities(){return Runtime.Vector.create([new Runtime.Entity.Hook("Runtime.Widget.AppHook")])}_init(){}static getClassName(){return"Runtime.Widget.ModuleDescription"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.ModuleDescription"]=Runtime.Widget.ModuleDescription,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.ContextMenu&&(Runtime.Widget.ContextMenu={}),Runtime.Widget.ContextMenu.ContextMenu={name:"Runtime.Widget.ContextMenu.ContextMenu",extends:Runtime.Component,methods:{renderItem:function(t){var e=use("Runtime.rs"),i=e.getComponentHash(this.getClassName()),n=new Runtime.VirtualDom(this);return n.element("div",new Runtime.Map({class:e.className(["context_menu__item",1==t.get("hidden")?"hidden":"",i]),key:t.get("key"),onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onClickItem(t)})})).push(t.get("label")),n},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getProps(),s=i.element("div",new Runtime.Map({class:e.className(["context_menu",this.model.is_open?"context_menu--open":"context_menu--hide",t]),"@ref":"widget"}).concat(n));for(let e=0;e<this.model.items.count();e++){var r=this.model.items.get(e);s.push(this.renderItem(r))}return i},getProps:function(){var e=Runtime.Vector.create([]);return""!=this.model.width&&e.push("max-width: "+String(this.model.width)),e.push("left: "+String(this.model.x)+String("px;")),e.push("top: "+String(this.model.y)+String("px;")),Runtime.Map.create({style:Runtime.rs.join(";",e)})},onClickItem:function(e){this.model.onClickItem(e)},getClassName:function(){return"Runtime.Widget.ContextMenu.ContextMenu"}},getComponentStyle:function(){return".context_menu.h-eb02{display: none;position: absolute;z-index: 99;background-color: var(--color-background);border: var(--border-width) var(--color-border) solid;border-bottom-width: 0}.context_menu--open.h-eb02{display: block}.context_menu__item.h-eb02{padding: calc(var(--space) * 0.75) var(--space);border-bottom: var(--border-width) var(--color-border) solid;cursor: pointer;user-select: none}.context_menu__item.h-eb02:hover{background-color: var(--color-hover)}.context_menu__item.hidden.h-eb02{display: none}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.ContextMenu.ContextMenu"]=Runtime.Widget.ContextMenu.ContextMenu,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.ContextMenu&&(Runtime.Widget.ContextMenu={}),Runtime.Widget.ContextMenu.ContextMenuMessage=class extends Runtime.Message{_init(){super._init(),this.item=null}static getClassName(){return"Runtime.Widget.ContextMenu.ContextMenuMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.ContextMenu.ContextMenuMessage"]=Runtime.Widget.ContextMenu.ContextMenuMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.ContextMenu&&(Runtime.Widget.ContextMenu={}),Runtime.Widget.ContextMenu.ContextMenuModel=class extends Runtime.BaseModel{initParams(e){super.initParams(e),null!=e&&e.has("items")&&(this.items=e.get("items"))}setWidth(e){this.width=e}show(e,t){this.is_open=!0,this.x=e,this.y=t}hide(){this.is_open=!1}addItem(e){this.items.push(e)}find(t){return this.items.find(e=>e.get("key")==t)}findItem(e){return this.items.get(this.find(e))}onClickItem(e){this.listener.emit(new Runtime.Widget.ContextMenu.ContextMenuMessage(Runtime.Map.create({name:"clickItem",item:e})))}_init(){super._init(),this.component="Runtime.Widget.ContextMenu.ContextMenu",this.widget_name="context_menu",this.is_open=!1,this.width="",this.x=0,this.y=0,this.items=Runtime.Vector.create([]),this.data=null}static getClassName(){return"Runtime.Widget.ContextMenu.ContextMenuModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.ContextMenu.ContextMenuModel"]=Runtime.Widget.ContextMenu.ContextMenuModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.Dialog={name:"Runtime.Widget.Dialog.Dialog",extends:Runtime.Component,props:{model:{default:null},modal:{default:!0}},methods:{renderTitle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.renderSlot("title")),e},renderHeader:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["dialog__header",t])}));return n.element("div",new Runtime.Map({class:e.className(["dialog__header_title",t])})).push(this.renderTitle()),n.element("Runtime.Widget.Button",new Runtime.Map({class:e.className(["dialog__header_close button--small",t]),onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onCloseClick()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this),t=e.element("svg",new Runtime.Map({width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"}));return t.element("path",new Runtime.Map({d:"M12 4L4 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),t.element("path",new Runtime.Map({d:"M4 4L12 12",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})),e}),i},renderContent:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["dialog__content",t])})).push(this.renderSlot("content")),i},renderFooter:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return this.slot("footer")&&i.element("div",new Runtime.Map({class:e.className(["dialog__footer",t])})).push(this.renderSlot("footer")),i},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["dialog",this.model.is_open?"dialog--open":"",t]),onClick:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onOverlayClick()})})).element("div",new Runtime.Map({class:e.className(["dialog__container",t]),onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{e.stopPropagation()})}));return e.push(this.renderHeader()),e.push(this.renderContent()),e.push(this.renderFooter()),i},onOverlayClick:function(){this.modal||this.model.hide()},onCloseClick:function(){this.model.hide()},getClassName:function(){return"Runtime.Widget.Dialog.Dialog"}},updated:function(){var e=document.getElementsByTagName("body")[0];this.model.is_open?e.classList.contains("scroll-lock")||e.classList.add("scroll-lock"):e.classList.contains("scroll-lock")&&e.classList.remove("scroll-lock")},getComponentStyle:function(){return".dialog.h-a5bb{display: none;position: fixed;top: 0;left: 0;width: 100%;height: 100%;background-color: rgba(0, 0, 0, 0.2);z-index: 99999;align-items: center;justify-content: center;overflow-y: auto}.dialog--open.h-a5bb{display: grid}.dialog__container.h-a5bb{background-color: var(--color-background);border-radius: var(--border-radius);box-shadow: 0 4px 16px rgba(0, 0, 0, 0.5);width: 600px;margin: calc(var(--space) * 2) auto}.dialog__content.h-a5bb{padding: calc(var(--space) * 2)}.dialog__header.h-a5bb{padding: var(--space) calc(var(--space) * 2);border-bottom: 1px solid var(--color-border);display: flex;justify-content: space-between;align-items: center;font-weight: bold;font-size: 1.2em}.dialog__header.h-a5bb .button{font-size: 1.5em;line-height: 0;border: none}.dialog__footer.h-a5bb{padding: calc(var(--space) * 2);padding-top: var(--space);display: flex;justify-content: flex-end;gap: var(--space)}@media (max-width: 768px){.dialog__content_wrapper.h-a5bb{width: 95%}.dialog__header.h-a5bb{font-size: 1.1em;padding: 10px 15px}.dialog__content.h-a5bb{padding: 15px}.dialog__footer.h-a5bb{padding: 10px 15px}}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Dialog.Dialog"]=Runtime.Widget.Dialog.Dialog,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.DialogMessage=class extends Runtime.Message{_init(){super._init(),this.action="",this.value=""}static getClassName(){return"Runtime.Widget.Dialog.DialogMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Dialog.DialogMessage"]=Runtime.Widget.Dialog.DialogMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.DialogModel=class extends Runtime.BaseModel{show(){this.is_open=!0}hide(){this.is_open=!1,this.listener.emit(new Runtime.Widget.Dialog.DialogMessage(Runtime.Map.create({name:"hide"})))}_init(){super._init(),this.is_open=!1}static getClassName(){return"Runtime.Widget.Dialog.DialogModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Dialog.DialogModel"]=Runtime.Widget.Dialog.DialogModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.ConfirmDialog={name:"Runtime.Widget.Dialog.ConfirmDialog",extends:Runtime.Widget.Dialog.Dialog,methods:{renderTitle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return this.slot("title")?e.push(this.renderSlot("title")):e.push(this.model.title),e},renderContent:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["dialog__content",t])}));return this.slot("content")?e.push(this.renderSlot("content")):e.push(this.model.content),e.push(this.renderWidget(this.model.result,Runtime.Map.create({class:"result--center"}))),i},renderFooter:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["dialog__footer",t])}));return n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.model.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Close"),e}),n.element("Runtime.Widget.Button",new Runtime.Map({class:e.className(["button--primary",t]),styles:this.model.title_button_styles,onClick:this.hash(1)?this.hash(1):this.hash(1,e=>{this.model.confirm()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.model.title_button||"Confirm"),e}),i},getClassName:function(){return"Runtime.Widget.Dialog.ConfirmDialog"}},getComponentStyle:function(){return".dialog__content.h-5497 .result{margin-top: calc(var(--space) * 0.5)}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Button")}},window["Runtime.Widget.Dialog.ConfirmDialog"]=Runtime.Widget.Dialog.ConfirmDialog,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.ConfirmDialogModel=class extends Runtime.Widget.Dialog.DialogModel{initWidget(e){super.initWidget(e),this.result=this.createWidget("Runtime.Widget.ResultModel")}setWaitMessage(){this.result.setWaitMessage()}setApiResult(e){this.result.setApiResult(e)}show(){super.show(),this.result.clear()}confirm(){this.listener.emit(new Runtime.Widget.Dialog.DialogMessage(Runtime.Map.create({name:"confirm",action:this.action})))}_init(){super._init(),this.component="Runtime.Widget.Dialog.ConfirmDialog",this.action="",this.title="",this.title_button="",this.title_button_styles=Runtime.Vector.create([]),this.content="",this.result=null}static getClassName(){return"Runtime.Widget.Dialog.ConfirmDialogModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Dialog.ConfirmDialogModel"]=Runtime.Widget.Dialog.ConfirmDialogModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.PromptDialog={name:"Runtime.Widget.Dialog.PromptDialog",extends:Runtime.Widget.Dialog.Dialog,methods:{renderTitle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return this.slot("title")?e.push(this.renderSlot("title")):e.push(this.model.title),e},renderContent:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["dialog__content",t])}));return this.slot("content")?e.push(this.renderSlot("content")):e.push(this.model.content),e.element("Runtime.Widget.Input",new Runtime.Map({name:"value",value:this.model.value,onChange:this.hash(0)?this.hash(0):this.hash(0,e=>{this.model.setValue(e.target.value)})})),e.push(this.renderWidget(this.model.result,Runtime.Map.create({class:"result--center"}))),i},renderFooter:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["dialog__footer",t])}));return n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(1)?this.hash(1):this.hash(1,e=>{this.model.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Close"),e}),n.element("Runtime.Widget.Button",new Runtime.Map({class:e.className(["button--primary",t]),style:this.model.title_button_styles,onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{this.model.confirm()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.model.title_button||"Confirm"),e}),i},getClassName:function(){return"Runtime.Widget.Dialog.PromptDialog"}},getComponentStyle:function(){return".dialog__content.h-688b .result{margin-top: calc(var(--space) * 0.5)}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Button","Runtime.Widget.Input")}},window["Runtime.Widget.Dialog.PromptDialog"]=Runtime.Widget.Dialog.PromptDialog,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Dialog&&(Runtime.Widget.Dialog={}),Runtime.Widget.Dialog.PromptDialogModel=class extends Runtime.Widget.Dialog.DialogModel{initParams(e){super.initParams(e),this.result=this.createWidget("Runtime.Widget.ResultModel")}setWaitMessage(){this.result.setWaitMessage()}setApiResult(e){this.result.setApiResult(e)}setValue(e){this.value=e}show(){super.show(),this.result.clear()}confirm(){this.listener.emit(new Runtime.Widget.Dialog.DialogMessage(Runtime.Map.create({name:"confirm",action:this.action,value:this.value})))}_init(){super._init(),this.component="Runtime.Widget.Dialog.PromptDialog",this.action="",this.title="",this.title_button="",this.title_button_styles=Runtime.Vector.create([]),this.content="",this.value="",this.result=null}static getClassName(){return"Runtime.Widget.Dialog.PromptDialogModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Dialog.PromptDialogModel"]=Runtime.Widget.Dialog.PromptDialogModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.Form={name:"Runtime.Widget.Form.Form",extends:Runtime.Component,props:{fields:{default:Runtime.Vector.create([])}},methods:{renderTitle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return this.slot("title")&&e.push(this.renderSlot("title")),e},renderContent:function(){use("Runtime.rs").getComponentHash(this.getClassName());var r=new Runtime.VirtualDom(this);if(this.slot("default")&&0==this.fields.count())r.push(this.renderSlot("default"));else{for(let e=0;e<this.fields.count();e++){let t=this.fields.get(e),i=t.get("props"),n=t.get("component"),s=t.get("name");i=i||new Runtime.Map,r.element("Runtime.Widget.Form.FormRow",new Runtime.Map({name:s,label:t.get("label"),key:s,result:this.model.getResult(s)})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.element(n,new Runtime.Map({name:s,value:this.getValue(t),onValueChange:this.hash(0)?this.hash(0):this.hash(0,e=>{this.setValue(t,e.value)})}).concat(i)),e})}r.push(this.renderWidget(this.model.result,Runtime.Map.create({class:"result--form"})))}return r},renderButtons:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return this.slot("buttons")&&e.push(this.renderSlot("buttons")),e},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("form",new Runtime.Map({class:e.className(["form",t])}));return e.push(this.renderTitle()),e.push(this.renderContent()),e.push(this.renderButtons()),i},getValue:function(e){return e.has("value")?e.get("value")(this.model.item):(e=e.get("name"),this.model.item.get(e))},setValue:function(e,t){e.has("setValue")?e.get("setValue")(this.model.item,t):(e=e.get("name"),this.model.setValue(e,t))},getClassName:function(){return"Runtime.Widget.Form.Form"}},getComponentStyle:function(){return".form.h-b6a7 textarea{min-height: 300px}.form.h-b6a7 .row_buttons{justify-content: center}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Form.FormRow")}},window["Runtime.Widget.Form.Form"]=Runtime.Widget.Form.Form,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.FormRow={name:"Runtime.Widget.Form.FormRow",extends:Runtime.Component,props:{label:{default:""},result:{default:null}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["form_row",t])}));return n.element("label").push(this.label),n.element("div",new Runtime.Map({class:e.className(["form_row__content",t])})).push(this.renderSlot("default")),this.result&&n.push(this.renderWidget(this.result,Runtime.Map.create({class:"result--field"}))),i},getClassName:function(){return"Runtime.Widget.Form.FormRow"}},getComponentStyle:function(){return".form_row.h-df7a{margin-bottom: calc(var(--space) * 2)}.form_row.h-df7a:last-child{margin-bottom: calc(var(--space) * 2)}.form_row.h-df7a label{display: block;font-weight: bold;margin-bottom: calc(var(--space) * 0.5)}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Form.FormRow"]=Runtime.Widget.Form.FormRow,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Form&&(Runtime.Widget.Form={}),Runtime.Widget.Form.FormModel=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("pk",e.params?e.params.get("pk_type"):null),e.addType("item",e.params?e.params.get("item_type"):null),e.addType("result",new Runtime.Serializer.ObjectType(Runtime.Map.create({class_name:"Runtime.Widget.ResultModel"}))),e.setup.add((e,t)=>{e.pk_type=t.params?t.params.get("pk_type"):null,e.item_type=t.params?t.params.get("item_type"):null})}initParams(e){super.initParams(e)}initWidget(e){super.initWidget(e),this.result=this.createWidget("Runtime.Widget.ResultModel")}setWaitMessage(){this.result.setWaitMessage()}setApiResult(e){this.result.setApiResult(e),this.setFieldErrors(e.data.get("fields"))}setFieldErrors(t){if(t){this.field_errors=new Runtime.Map;var i=Runtime.rtl.list(t.keys());for(let e=0;e<i.count();e++){var n=i.get(e),s=t.get(n),s=Runtime.rs.join(", ",s),r=new Runtime.Widget.ResultModel;r.setError(s),this.field_errors.set(n,r)}}}getResult(e){return this.field_errors.get(e)}setValue(e,t){this.item.set(e,t)}setPrimaryKey(e){var t;this.pk_type?(t=this.pk_type.keys(),this.pk=this.pk_type.filter(e.intersect(t),Runtime.Vector.create([]))):this.pk=null}setItem(e){this.item=this.item_type?this.item_type.filter(e,Runtime.Vector.create([])):e}clear(){this.pk=null,this.item=this.data_object?Runtime.rtl.newInstance(this.data_object):new Runtime.Map,this.field_errors=new Runtime.Map,this.result.clear()}_init(){super._init(),this.component="Runtime.Widget.Form.Form",this.pk=null,this.item=new Runtime.Map,this.field_errors=new Runtime.Map,this.result=null,this.pk_type=null,this.item_type=null}static getClassName(){return"Runtime.Widget.Form.FormModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Form.FormModel"]=Runtime.Widget.Form.FormModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Gallery&&(Runtime.Widget.Gallery={}),Runtime.Widget.Gallery.Gallery={name:"Runtime.Widget.Gallery.Gallery",extends:Runtime.Component,methods:{renderItem:function(e){use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this);return t.push(this.renderSlot("default",Runtime.Map.create({pos:e,item:this.model.items.get(e),onClick:()=>{this.onClick(e)}}))),t},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["widget_gallery",this.class,t])})),s=n.element("div",new Runtime.Map({class:e.className(["widget_gallery__items",t])}));for(let e=0;e<this.model.items.count();e++)s.push(this.renderItem(e));return n.push(this.renderWidget(this.model.dialog)),i},onClick:function(e){this.model.dialog.select(e),this.model.dialog.show()},getClassName:function(){return"Runtime.Widget.Gallery.Gallery"}},getComponentStyle:function(){return".widget_gallery__items.h-9a67{display: flex;align-items: center;justify-content: space-around;flex-wrap: wrap}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Gallery.Gallery"]=Runtime.Widget.Gallery.Gallery,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Gallery&&(Runtime.Widget.Gallery={}),Runtime.Widget.Gallery.GalleryDialog={name:"Runtime.Widget.Gallery.GalleryDialog",extends:Runtime.Widget.Dialog.Dialog,methods:{renderDialogContainer:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["widget_dialog__container--photo",this.model.getImageContains()?"widget_dialog__container--photo_contain":"",t]),onClick:this.onContainerClick})),s=n.element("div",new Runtime.Map({class:e.className(["widget_dialog__image",t])}));return s.element("Runtime.Widget.Button",new Runtime.Map({class:e.className(["widget_dialog__close",t]),onClick:this.hash(0)?this.hash(0):this.hash(0,()=>{this.model.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("x"),e}),s.element("img",new Runtime.Map({src:this.model.getCurrentImage(),unselectable:"on"})),n.element("div",new Runtime.Map({class:e.className(["widget_dialog__clear",t])})),n.element("div",new Runtime.Map({class:e.className(["widget_dialog__arrow widget_dialog__arrow--left",t]),onClick:this.hash(1)?this.hash(1):this.hash(1,()=>{this.model.prev()})})),n.element("div",new Runtime.Map({class:e.className(["widget_dialog__arrow widget_dialog__arrow--right",t]),onClick:this.hash(2)?this.hash(2):this.hash(2,()=>{this.model.next()})})),i},onContainerClick:function(e){e.target.classList.contains("widget_dialog__arrow")||e.target.classList.contains("widget_dialog__clear")||e.target.classList.contains("widget_dialog__close")||"IMG"==e.target.tagName||this.onShadowClick()},getClassName:function(){return"Runtime.Widget.Gallery.GalleryDialog"}},getComponentStyle:function(){return".widget_dialog__container--photo.h-ebbc{max-width: 1000px;background: transparent;border: 0px transparent solid;padding: 0px;margin: calc(var(--widget-space) * 5) auto;text-align: center}.widget_dialog__arrow.h-ebbc{position: fixed;top: calc(50% - 15px);cursor: pointer;opacity: 0.7}.widget_dialog__arrow.h-ebbc:before, .widget_dialog__arrow.h-ebbc:after{position: absolute;display: block;content: '';width: 0;height: 0;left: 0;top: 0}.widget_dialog__arrow.h-ebbc:hover{opacity: 0.8}.widget_dialog__arrow.h-ebbc:focus{outline: 0}.widget_dialog__arrow.h-ebbc:active{outline: 0;top: calc(50% - 14px)}.widget_dialog__arrow--left.h-ebbc{left: 10px}.widget_dialog__arrow--left.h-ebbc:before{border-top: 40px solid transparent;border-bottom: 40px solid transparent;border-right: 45px solid #3F3F3F}.widget_dialog__arrow--left.h-ebbc:after{left: 6px;top: 10px;border-top: 30px solid transparent;border-bottom: 30px solid transparent;border-right: 35px solid #FFF}.widget_dialog__arrow--right.h-ebbc{right: 70px}.widget_dialog__arrow--right.h-ebbc:before{border-top: 40px solid transparent;border-bottom: 40px solid transparent;border-left: 45px solid #3F3F3F}.widget_dialog__arrow--right.h-ebbc:after{left: 4px;top: 10px;border-top: 30px solid transparent;border-bottom: 30px solid transparent;border-left: 35px solid #FFF}.widget_dialog__image.h-ebbc{position: relative;display: inline-block}.widget_dialog__image.h-ebbc img{max-width: 100%;user-select: none}.widget_dialog__close.h-ebbc{position: absolute;display: flex;align-items: center;justify-content: center;margin: 10px;width: 42px;height: 34px;top: 0;right: 0;font-size: 20px;font-weight: bold;text-transform: uppercase;background-color: #fff;border: 1px #d9d9d9 solid;cursor: pointer;border-radius: 5px}.widget_dialog__shadow.h-ebbc{opacity: 0.5}.widget_dialog__clear.h-ebbc{clear: both}.widget_dialog__container--photo_contain.h-ebbc{text-align: center}.widget_dialog__container--photo_contain.h-ebbc .widget_dialog__image img{max-width: 100%;max-height: calc(100vh - 50px);user-select: none}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Button")}},window["Runtime.Widget.Gallery.GalleryDialog"]=Runtime.Widget.Gallery.GalleryDialog,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Gallery&&(Runtime.Widget.Gallery={}),Runtime.Widget.Gallery.GalleryDialogModel=class extends Runtime.Widget.Dialog.DialogModel{getItems(){return this.parent_widget.getItems()}getItem(e){return this.parent_widget.getItem(e)}getImage(e){return this.parent_widget.getBigImage(e)}getImageContains(){return!0===this.parent_widget.dialog_image_contains||"1"==this.parent_widget.dialog_image_contains||"true"==this.parent_widget.dialog_image_contains}getCurrentImage(){return this.getImage(this.current)}select(e){var t=this.getItems().count();0==t?this.current=0:(this.current=e%t,this.current<0&&(this.current=(this.current+t)%t))}prev(){this.select(this.current-1)}next(){this.select(this.current+1)}_init(){super._init(),this.component="Runtime.Widget.Gallery.GalleryDialog",this.current=0}static getClassName(){return"Runtime.Widget.Gallery.GalleryDialogModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Gallery.GalleryDialogModel"]=Runtime.Widget.Gallery.GalleryDialogModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Gallery&&(Runtime.Widget.Gallery={}),Runtime.Widget.Gallery.GalleryModel=class extends Runtime.BaseModel{getItems(){return this.items}getItem(e){return this.items.get(e)}getSmallImage(e){return this.getItem(e)}getBigImage(e){return this.getItem(e)}initParams(e){super.initParams(e),null!=e&&(e.has("dialog_image_contains")&&(this.dialog_image_contains=e.get("dialog_image_contains")),e.has("items"))&&(this.items=e.get("items"))}initWidget(e){super.initWidget(e),this.dialog=this.addWidget("Runtime.Widget.Gallery.GalleryDialogModel",Runtime.Map.create({modal:!1}))}_init(){super._init(),this.component="Runtime.Widget.Gallery.Gallery",this.widget_name="gallery",this.dialog_image_contains=!1,this.items=Runtime.Vector.create([]),this.dialog=null}static getClassName(){return"Runtime.Widget.Gallery.GalleryModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Gallery.GalleryModel"]=Runtime.Widget.Gallery.GalleryModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Seo&&(Runtime.Widget.Seo={}),Runtime.Widget.Seo.Seo=class extends Runtime.Web.Hooks.AppHook{static hook(e){return null==e&&(e=null),new Runtime.Entity.Hook("Runtime.Widget.Seo.Seo",e)}initParams(e){super.initParams(e),e&&e.has("class_name")&&(this.class_name=e.get("class_name"))}register_hooks(){this.register(Runtime.Hooks.RuntimeHook.CREATE_LAYOUT,"createLayout"),this.register(Runtime.Hooks.RuntimeHook.LAYOUT_HEADER,"renderHeader"),this.register(Runtime.Web.Hooks.AppHook.ROUTE_BEFORE,"routeBefore")}createLayout(e){e=e.get("container");e.layout.storage.set("seo",e.layout.createWidget("Runtime.Widget.Seo.SeoModel"))}renderHeader(e){var t=e.get("layout").get("seo");t&&e.get("components").push(Runtime.VirtualDom.renderModel(t))}routeBefore(e){var t,i,e=e.get("container");null!=e.route&&null!=e.route.data&&(t=e.layout.get("seo"),(i=e.route.data).has("title")&&e.layout.setPageTitle(i.get("title")),i.has("description")&&(t.description=i.get("description")),i.has("robots"))&&(t.robots=i.get("robots"))}_init(){super._init(),this.class_name="Runtime.Widget.Seo.SeoModel"}static getClassName(){return"Runtime.Widget.Seo.Seo"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Seo.Seo"]=Runtime.Widget.Seo.Seo,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Seo&&(Runtime.Widget.Seo={}),Runtime.Widget.Seo.SeoModel=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("article_modified_time",new Runtime.Serializer.StringType),e.addType("article_published_time",new Runtime.Serializer.StringType),e.addType("canonical_url",new Runtime.Serializer.StringType),e.addType("description",new Runtime.Serializer.StringType),e.addType("favicon",new Runtime.Serializer.StringType),e.addType("robots",new Runtime.Serializer.VectorType(new Runtime.Serializer.StringType)),e.addType("tags",new Runtime.Serializer.VectorType(new Runtime.Serializer.StringType))}initParams(e){super.initParams(e)}setCanonicalUrl(e){this.layout.request_host&&(e="//"+String(this.layout.request_host)+String(e),e=this.layout.request_https?"https:"+String(e):"http:"+String(e)),this.canonical_url=e}_init(){super._init(),this.component="Runtime.Widget.Seo.SeoWidget",this.widget_name="seo",this.canonical_url="",this.description="",this.favicon="",this.article_published_time="",this.article_modified_time="",this.robots=Runtime.Vector.create(["follow","index"]),this.tags=null}static getClassName(){return"Runtime.Widget.Seo.SeoModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Seo.SeoModel"]=Runtime.Widget.Seo.SeoModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Seo&&(Runtime.Widget.Seo={}),Runtime.Widget.Seo.SeoWidget={name:"Runtime.Widget.Seo.SeoWidget",extends:Runtime.Component,methods:{render:function(){use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this),e=(this.model.canonical_url&&t.element("link",new Runtime.Map({rel:"canonical",href:this.model.canonical_url})),t.element("meta",new Runtime.Map({property:"og:locale",content:this.layout.lang})),t.element("meta",new Runtime.Map({property:"og:title",content:this.layout.title})),""!=this.model.description&&(t.element("meta",new Runtime.Map({property:"og:description",content:this.model.description})),t.element("meta",new Runtime.Map({name:"description",content:this.model.description}))),this.layout.getSiteName());if(e&&(t.element("meta",new Runtime.Map({property:"og:site_name",content:e})),t.element("meta",new Runtime.Map({property:"article:publisher",content:e}))),this.model.robots&&t.element("meta",new Runtime.Map({name:"robots",content:Runtime.rs.join(",",this.model.robots)})),null!=this.model.tags&&0<this.model.tags.count())for(let e=0;e<this.model.tags.count();e++)t.element("meta",new Runtime.Map({property:"article:tag",content:this.model.tags[e]}));return this.model.article_published_time&&t.element("meta",new Runtime.Map({property:"article:published_time",content:this.model.article_published_time})),this.model.article_modified_time&&(t.element("meta",new Runtime.Map({property:"article:article_modified_time",content:this.model.article_modified_time})),t.element("meta",new Runtime.Map({property:"og:article_modified_time",content:this.model.article_modified_time}))),t},getClassName:function(){return"Runtime.Widget.Seo.SeoWidget"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Seo.SeoWidget"]=Runtime.Widget.Seo.SeoWidget,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Sortable&&(Runtime.Widget.Sortable={}),Runtime.Widget.Sortable.ItemList={name:"Runtime.Widget.Sortable.ItemList",extends:Runtime.Component,props:{show_buttons:{default:"true"},name:{default:""},value:{default:Runtime.Vector.create([])}},data:function(){return{old_value:Runtime.Vector.create([]),is_drag:!1,is_transition:!1,drag_elem:null,drag_item:null,drag_item_pos:-1,shadow_elem:null,drag_elem_css:null,drag_start_point:null,duration:300}},methods:{renderValue:function(t,e){use("Runtime.rs").getComponentHash(this.getClassName());var i=new Runtime.VirtualDom(this);return i.element("Runtime.Widget.Input",new Runtime.Map({value:e,key:e,onValueChange:this.hash(0)?this.hash(0):this.hash(0,e=>{this.getItems().set(t,e.value),this.onValueChange()})})),i},renderItem:function(t){var e=use("Runtime.rs"),i=e.getComponentHash(this.getClassName()),n=new Runtime.VirtualDom(this);let s=this.getItems().get(t);var r=n.element("div",new Runtime.Map({class:e.className(["sortable_list__item",i]),"data-pos":t,key:s})),a=r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_drag",i]),onMousedown:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onMouseDown(e,s)})}));a.push("@raw"),a.push("&#9776;");r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_value",i])})).push(this.renderValue(t,s));a=r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_remove",i]),onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{this.removeItem(t)})}));return a.push("@raw"),a.push("&#10005;"),n},renderItems:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["sortable_list__items",t])}));let n=this.getItems();return n&&e.element("TransitionGroup",new Runtime.Map({name:"sortable_list"})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this);for(let e=0;e<n.count();e++)t.push(this.renderItem(e));return t}),i},renderButtons:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return"true"==this.show_buttons&&i.element("div",new Runtime.Map({class:e.className(["sortable_list__buttons",t])})).element("Runtime.Widget.Button",new Runtime.Map({styles:Runtime.Vector.create(["small"]),onClick:this.hash(3)?this.hash(3):this.hash(3,e=>{this.onAddItemClick()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Add"),e}),i},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["sortable_list",t])}));return n.push(this.renderItems()),n.push(this.renderButtons()),n.element("div",new Runtime.Map({class:e.className(["sortable_list__shadow",t]),"@ref":"shadow"})),i},getItems:function(){return this.value},createItem:function(){return""},copyItem:function(e){return e},createValue:function(){return Runtime.Vector.create([])},swapItems:function(e,t){t<e&&(i=e,e=t,t=i);var i=this.getItems(),n=i.get(e),s=i.get(t);i.remove(t),i.insert(t,n),i.remove(e),i.insert(e,s)},removeItem:function(e){var t=this.getItems();this.old_value=this.value.slice(),t.remove(e),this.onValueChange()},getDragElementFromPoint:function(e,t){var i=document.elementsFromPoint(e,t);for(let e=0;e<i.length;e++){var n=i[e];if(n.parentElement!=this.shadow_elem&&n.classList.contains("sortable_list__item"))return n}return null},getDragElement:function(e){return e.classList.contains("sortable_list__item")?e:e.parentElement.classList.contains("sortable_list__item")?e.parentElement:null},createShadow:function(){if(this.drag_elem){this.shadow_elem=document.createElement("div"),this.shadow_elem.innerHTML=this.drag_elem.outerHTML,this.shadow_elem.classList.add("sortable_list__shadow_elem");let t=Runtime.rs.split(" ",Runtime.rs.getCssHash(this.getClassName()));t=t.filter(e=>""!=e);for(let e=0;e<t.count();e++)this.shadow_elem.classList.add(t.get(e));this.shadow_elem.style.height=this.drag_elem.offsetHeight+String("px"),this.shadow_elem.style.width=this.drag_elem.offsetWidth+String("px"),this.getRef("shadow").appendChild(this.shadow_elem)}},moveShadow:function(e,t){this.shadow_elem&&(e=e-this.drag_start_point.get("shift_x"),t=t-this.drag_start_point.get("shift_y"),this.shadow_elem.style.left=e+String("px"),this.shadow_elem.style.top=t+String("px"))},startDrag:function(e){var t;return 0==this.is_drag&&null!=this.drag_start_point&&(t=Runtime.rtl.abs(e.pageX-this.drag_start_point.get("x")),e=Runtime.rtl.abs(e.pageY-this.drag_start_point.get("y")),!(t<10&&e<10||(this.is_drag=!0,this.createShadow(),0)))},stopDrag:function(){this.is_drag&&(this.is_drag=!1,this.is_transition=!1,this.drag_elem=null,this.drag_start_point=null,this.shadow_elem.remove(),this.shadow_elem=null)},moveDrag:function(e){this.is_drag&&(this.moveShadow(e.pageX,e.pageY),this.is_transition||(e=this.getDragElementFromPoint(e.pageX,e.pageY))&&(e=e.getAttribute("data-pos"))!=this.drag_item_pos&&(this.is_transition=!0,this.old_value=this.copyItem(this.value),this.swapItems(this.drag_item_pos,e),this.drag_item_pos=e,window.setTimeout(()=>{this.is_transition=!1},this.duration),this.onValueChange()))},onValueChange:function(){this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.value,old_value:this.old_value,data:this.data})))},onAddItemClick:function(){null==this.getItems()&&this.emit(new Runtime.Widget.Messages.ValueChangeMessage(Runtime.Map.create({value:this.createValue(),old_value:this.old_value,data:this.data}))),this.nextTick(()=>{this.old_value=this.value.slice(),this.getItems().push(this.createItem()),this.onValueChange()})},onMouseDown:function(e,t){if(0==e.button&&!this.is_drag)return this.drag_elem=this.getDragElement(e.target),this.drag_item=t,this.drag_item_pos=this.drag_elem.getAttribute("data-pos"),this.drag_start_point=Runtime.Map.create({x:e.pageX,y:e.pageY,shift_x:e.pageX-e.target.offsetLeft,shift_y:e.pageY-e.target.offsetTop}),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),e.preventDefault(),!1},onMouseUp:function(e){document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("mousemove",this.onMouseMove),this.stopDrag()},onMouseMove:function(e){null!=this.drag_elem&&(this.is_drag||this.startDrag(e),this.is_drag)&&this.moveDrag(e)},getClassName:function(){return"Runtime.Widget.Sortable.ItemList"}},getComponentStyle:function(){return".sortable_list.h-3bb3{position: relative}.sortable_list__item.h-3bb3{display: flex;align-items: center;justify-content: flex-start;border-width: var(--border-width);border-color: var(--color-border);border-style: solid;border-radius: 4px;margin: 5px}.sortable_list__item_drag.h-3bb3, .sortable_list__item_remove.h-3bb3{cursor: pointer;padding: 0px 5px}.sortable_list__item_value.h-3bb3{flex: 1}.sortable_list__item_value.h-3bb3 .input, .sortable_list__item_value.h-3bb3 .select{padding: 0px 10px;border-color: transparent;border-radius: 0;border-width: 0}.sortable_list__buttons.h-3bb3{text-align: center;margin-top: var(--space)}.sortable_list__shadow_elem.h-3bb3{position: absolute;opacity: 0.5;user-select: none;z-index: 9999999}.sortable_list__shadow_elem.h-3bb3 .sortable_list__item_drag{cursor: grabbing}.sortable_list__shadow_elem.h-3bb3 .sortable_list__item{margin: 0}.sortable_list-move.h-3bb3, .sortable_list-enter-active.h-3bb3, .sortable_list-leave-active.h-3bb3{transition: all 0.3s ease}.sortable_list-enter-from.h-3bb3, .sortable_list-leave-to.h-3bb3{opacity: 0}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Button","Runtime.Widget.Input","Runtime.Widget.Select")}},window["Runtime.Widget.Sortable.ItemList"]=Runtime.Widget.Sortable.ItemList,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Sortable&&(Runtime.Widget.Sortable={}),Runtime.Widget.Sortable.FieldList={name:"Runtime.Widget.Sortable.FieldList",extends:Runtime.Widget.Sortable.ItemList,data:function(){return{fields:Runtime.Vector.create([])}},methods:{renderValueItem:function(t,e,i){var n=use("Runtime.rs"),s=n.getComponentHash(this.getClassName()),r=new Runtime.VirtualDom(this),a=r.element("div",new Runtime.Map({class:n.className(["sortable_list__item_value_row",s])})),a=(a.element("div",new Runtime.Map({class:n.className(["sortable_list__item_value_label",s])})).push(t.get("label")),a.element("div",new Runtime.Map({class:n.className(["sortable_list__item_value_item",s])})));if(i){n=t.get("name"),s=t.get("component");let e=t.get("props");e=e||new Runtime.Map,a.element(s,new Runtime.Map({name:n,value:this.getValue(t,i),onValueChange:this.hash(0)?this.hash(0):this.hash(0,e=>{this.setValue(t,i,e)})}).concat(e))}return r},renderValue:function(t,i){use("Runtime.rs").getComponentHash(this.getClassName());var n=new Runtime.VirtualDom(this);for(let e=0;e<this.fields.count();e++){var s=this.fields.get(e);n.push(this.renderValueItem(s,t,i))}return n},renderItem:function(t){var e=use("Runtime.rs"),i=e.getComponentHash(this.getClassName()),n=new Runtime.VirtualDom(this);let s=this.getItems().get(t);var r=n.element("div",new Runtime.Map({class:e.className(["sortable_list__item",i]),"data-pos":t,key:s}));return r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_element sortable_list__item_element--drag",i])})).element("div",new Runtime.Map({class:e.className(["sortable_list__item_drag",i]),onMousedown:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onMouseDown(e,s)})})).push("☰"),r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_value",i])})).push(this.renderValue(t,s)),r.element("div",new Runtime.Map({class:e.className(["sortable_list__item_element sortable_list__item_element--remove",i])})).element("div",new Runtime.Map({class:e.className(["sortable_list__item_remove",i]),onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{this.removeItem(t)})})).push("✕"),n},createItem:function(){return new Runtime.Map},getValue:function(e,t){return e.has("value")?e.get("value")(t):(e=e.get("name"),t.get(e))},setValue:function(e,t,i){e.has("setValue")?e.get("setValue")(t,i.value):(e=e.get("name"),t.set(e,i.value)),this.onValueChange()},getDragElement:function(e){return e.classList.contains("sortable_list__item")?e:e.parentElement.classList.contains("sortable_list__item")?e.parentElement:e.parentElement.parentElement.classList.contains("sortable_list__item")?e.parentElement.parentElement:null},getClassName:function(){return"Runtime.Widget.Sortable.FieldList"}},getComponentStyle:function(){return".sortable_list__item.h-a648{align-items: stretch;margin: 10px 0px}.sortable_list__item_element.h-a648{display: flex}.sortable_list__item_element--drag.h-a648{align-items: center}.sortable_list__item_element--remove.h-a648{align-items: start}.sortable_list__item_value.h-a648{padding: 5px}.sortable_list__item_value_row.h-a648{display: flex;align-items: center;margin-bottom: 1px}.sortable_list__item_value_label.h-a648{width: 80px}.sortable_list__item_value_item.h-a648{flex: 1}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Input","Runtime.Widget.Select")}},window["Runtime.Widget.Sortable.FieldList"]=Runtime.Widget.Sortable.FieldList,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.Tab={name:"Runtime.Widget.Tab.Tab",extends:Runtime.Component,props:{name:{default:""},title:{default:""},href:{default:""}},methods:{render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=this.getParent().model,e=i.element("div",new Runtime.Map({class:e.className(["tabs__item",n.isActive(this.name)?"tabs__item--active":"",t]),"data-tab":this.name}));return this.canShow&&e.push(this.renderSlot("default")),i},getClassName:function(){return"Runtime.Widget.Tab.Tab"}},computed:{canShow:function(){return""==this.href||!!this.getParent().model.isActive(this.name)}},getComponentStyle:function(){return".tabs__item.h-8789{position: relative;display: none}.tabs__item--active.h-8789{display: block}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Tab.Tab"]=Runtime.Widget.Tab.Tab,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.TabMessage=class extends Runtime.Message{_init(){super._init(),this.name="tab",this.key=""}static getClassName(){return"Runtime.Widget.Tab.TabMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Tab.TabMessage"]=Runtime.Widget.Tab.TabMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.Tabs={name:"Runtime.Widget.Tab.Tabs",extends:Runtime.Component,methods:{renderHeader:function(){var i=use("Runtime.rs"),n=i.getComponentHash(this.getClassName()),e=new Runtime.VirtualDom(this),s=e.element("div",new Runtime.Map({class:i.className(["tabs__header",n])})),r=this.items;for(let e=0;e<r.count();e++){var a=r.get(e);let t=a.get("name");var o=a.get("title"),a=a.get("href"),u=this.model.isActive(t);(null==a?s.element("div",new Runtime.Map({class:i.className(["tabs__header_item",u?"tabs__header_item--active":"",n]),"data-tab":t,onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onClick(t)})})):s.element("a",new Runtime.Map({class:i.className(["tabs__header_item",u?"tabs__header_item--active":"",n]),"data-tab":t,href:a}))).push(o)}return e},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["tabs",this.class,t])}));return n.push(this.renderHeader()),n.element("div",new Runtime.Map({class:e.className(["tabs__content",t])})).push(this.renderSlot("default")),i},onClick:function(e){this.model.setActive(e),this.emit(new Runtime.Widget.Tab.TabMessage(Runtime.Map.create({key:e})))},getClassName:function(){return"Runtime.Widget.Tab.Tabs"}},computed:{items:function(){var t=Runtime.Vector.create([]);let i=Runtime.Vector.create([]);var e=this.renderSlot("default");i=e instanceof Runtime.VirtualDom?e.items:Runtime.Vector.create(e);for(let e=0;e<i.count();e++){var n=i.get(e);n instanceof Runtime.VirtualDom?t.push(Runtime.Map.create({name:n.attrs.get("name"),title:n.attrs.get("title"),href:n.attrs.get("href")})):t.push(Runtime.Map.create({name:n.props.name,title:n.props.title,href:n.props.href}))}return t}},getComponentStyle:function(){return".tabs.h-209{position: relative}.tabs__header.h-209{display: flex;position: relative;border-bottom-width: var(--border-width);border-bottom-color: var(--color-border);border-bottom-style: solid;transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type)}.tabs__header_item.h-209{position: relative;padding: calc(1.5 * var(--space));border-color: transparent;border-width: var(--border-width);border-style: solid;border-bottom-width: 0px;transition: background-color var(--transition) var(--transition-type),\n\t\tborder-color var(--transition) var(--transition-type),\n\t\tcolor var(--transition) var(--transition-type);text-decoration: none;color: inherit;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-khtml-user-select: none;-ms-user-select: none;top: var(--border-width)}.tabs__header_item.h-209:hover, .tabs__header_item.h-209:visited, .tabs__header_item.h-209:visited:hover, .tabs__header_item.h-209:focus{text-decoration: none;color: inherit;box-shadow: none;outline: transparent}.tabs__header_item--active.h-209{background-color: var(--color-background);border-color: var(--color-border)}.tabs__content.h-209{margin-top: calc(2 * var(--space))}.tabs__item.h-209{position: relative;display: none}.tabs__item--active.h-209{display: block}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Tab.Tab")}},window["Runtime.Widget.Tab.Tabs"]=Runtime.Widget.Tab.Tabs,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tab&&(Runtime.Widget.Tab={}),Runtime.Widget.Tab.TabsModel=class extends Runtime.BaseModel{initParams(e){super.initParams(e),null!=e&&(e.has("active")&&(this.active=e.get("active")),e.has("render"))&&(this.render=e.get("render"))}isActive(e){return this.active==e}setActive(e){this.active=e}canShow(e){var t=this.items.findItem(Runtime.lib.equalAttr("key",e));return null!=t&&(!t.has("href")||t.get("key")==e)}_init(){super._init(),this.active="",this.render=!0,this.component="Runtime.Widget.Tab.Tabs"}static getClassName(){return"Runtime.Widget.Tab.TabsModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Tab.TabsModel"]=Runtime.Widget.Tab.TabsModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.Manager=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("form",new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0,extends:"Runtime.Widget.Form.FormModel",pk_type:e.params?e.params.get("pk_type"):null,item_type:e.params?e.params.get("item_type"):null}))),e.addType("table",new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0,extends:"Runtime.Widget.Table.TableModel",item_type:e.params?e.params.get("item_type"):null}))),e.addType("dialog",new Runtime.Serializer.ObjectType(Runtime.Map.create({extends:"Runtime.Widget.Dialog.DialogModel"})))}initParams(e){super.initParams(e),e.has("api_name")&&(this.api_name=e.get("api_name")),e.has("foreign_key")&&(this.foreign_key=e.get("foreign_key")),e.has("page_name")&&(this.page_name=e.get("page_name")),e.has("title")&&(this.title=e.get("title"))}initWidget(e){super.initWidget(e),e.has("dialog")?this.dialog=e.get("dialog"):this.dialog=this.createWidget("Runtime.Widget.Dialog.DialogModel"),this.dialog.addEventListener("hide",new Runtime.Method(this,"onDialogHide")),e.has("form")?this.form=e.get("form"):this.form=this.createWidget("Runtime.Widget.Form.FormModel"),e.has("table")?this.table=e.get("table"):this.table=this.createWidget("Runtime.Widget.Table.TableModel"),e.has("loader")?this.loader=e.get("loader"):this.loader=this.createWidget("Runtime.Widget.Table.TableLoader",Runtime.Map.create({api_name:this.api_name,foreign_key:this.foreign_key,page_name:this.page_name,table:this.table}))}async loadData(e){await this.loader.loadData(e)}setForeignKey(e){this.foreign_key=e,this.loader.foreign_key=e}getDialogAction(){return"save"==this.dialog_action?this.form.pk?"edit":"add":this.dialog_action}getDialogTitle(e){return this.title?Runtime.rtl.apply(this.title,Runtime.Vector.create([e,this.form.item])):""}showAddDialog(){this.dialog_action="save",this.form.clear(),this.dialog.show()}showEditDialog(e){this.dialog_action="save",this.form.clear(),this.form.setPrimaryKey(e),this.form.setItem(e),this.dialog.show()}showDeleteDialog(e){this.dialog_action="delete",this.form.clear(),this.form.setPrimaryKey(e),this.form.setItem(e),this.dialog.show()}onDialogHide(){this.dialog_action=""}async onSave(){this.form.setWaitMessage();var e=await this.layout.sendApi(Runtime.Map.create({api_name:this.api_name,method_name:"save",data:Runtime.Map.create({pk:this.form.pk,item:this.form.item,foreign_key:this.foreign_key})}));this.form.setApiResult(e),e.isSuccess()&&(this.loader.reload(),this.dialog.hide())}async onDelete(){this.form.setWaitMessage();var e=await this.layout.sendApi(Runtime.Map.create({api_name:this.api_name,method_name:"delete",data:Runtime.Map.create({pk:this.form.pk,foreign_key:this.foreign_key})}));this.form.setApiResult(e),e.isSuccess()&&(this.loader.reload(),this.dialog.hide())}_init(){super._init(),this.form=null,this.table=null,this.api_name="",this.page_name="page",this.foreign_key=null,this.dialog_action="",this.dialog=null,this.loader=null,this.title=null}static getClassName(){return"Runtime.Widget.Table.Manager"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Table.Manager"]=Runtime.Widget.Table.Manager,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.Table={name:"Runtime.Widget.Table.Table",extends:Runtime.Component,methods:{renderHeader:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push(this.renderSlot("header")),e},renderRow:function(e,t){use("Runtime.rs").getComponentHash(this.getClassName());var i=new Runtime.VirtualDom(this);return i.push(this.renderSlot("row",Runtime.Vector.create([e,t]))),i},renderTable:function(){var t=use("Runtime.rs"),i=t.getComponentHash(this.getClassName()),e=new Runtime.VirtualDom(this),n=e.element("table").element("tbody");if(n.element("tr",new Runtime.Map({class:t.className(["table__header",i])})).push(this.renderHeader()),this.model.items)for(let e=0;e<this.model.items.count();e++){var s=this.model.items.get(e);n.element("tr",new Runtime.Map({class:t.className(["table__row",i])})).push(this.renderRow(s,e))}return e},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return i.element("div",new Runtime.Map({class:e.className(["table",t])})).push(this.renderTable()),i},getClassName:function(){return"Runtime.Widget.Table.Table"}},getComponentStyle:function(){return".table.h-6433 table{border-collapse: collapse;background-color: var(--color-background);border: 1px var(--color-border) solid}.table.h-6433 th, .table.h-6433 td{padding: var(--space);border-bottom: 1px var(--color-border) solid}.table.h-6433 th{font-weight: bold}.table__row.h-6433:nth-child(even){background-color: var(--color-surface)}.table__row.h-6433:last-child{border-bottom-width: 0px}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Table.Table"]=Runtime.Widget.Table.Table,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableDialog={name:"Runtime.Widget.Table.TableDialog",extends:Runtime.Widget.Dialog.Dialog,props:{manager:{default:null}},methods:{renderTitle:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this),t=this.manager.getDialogAction();return e.push(this.manager.getDialogTitle(t)),e},renderContent:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["dialog__content",t])}));return"save"==this.manager.dialog_action?n.push(this.renderSlot("save")):"delete"==this.manager.dialog_action&&(n.element("div",new Runtime.Map({class:e.className(["dialog__delete_message",t])})).push(this.manager.getDialogTitle("delete_message")),n.push(this.renderWidget(this.manager.form.result,Runtime.Map.create({class:"result--center"})))),i},renderFooter:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["dialog__footer",t])})),s=this.manager.getDialogAction();return"add"==s?(n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(0)?this.hash(0):this.hash(0,e=>{this.manager.dialog.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Cancel"),e}),n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(1)?this.hash(1):this.hash(1,e=>{this.manager.onSave()}),class:e.className(["button--primary",t])})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Create"),e})):"edit"==s?(n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(2)?this.hash(2):this.hash(2,e=>{this.manager.dialog.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Cancel"),e}),n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(3)?this.hash(3):this.hash(3,e=>{this.manager.onSave()}),class:e.className(["button--primary",t])})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Save"),e})):"delete"==s&&(n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(4)?this.hash(4):this.hash(4,e=>{this.manager.dialog.hide()})})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Cancel"),e}),n.element("Runtime.Widget.Button",new Runtime.Map({onClick:this.hash(5)?this.hash(5):this.hash(5,e=>{this.manager.onDelete()}),class:e.className(["button--danger",t])})).slot("default",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.push("Delete"),e})),i},getClassName:function(){return"Runtime.Widget.Table.TableDialog"}},getComponentStyle:function(){return""},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Button")}},window["Runtime.Widget.Table.TableDialog"]=Runtime.Widget.Table.TableDialog,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableLoader=class extends Runtime.BaseModel{initParams(e){super.initParams(e),e.has("table")&&(this.table=e.get("table")),e.has("foreign_key")&&(this.foreign_key=e.get("foreign_key")),e.has("api_name")&&(this.api_name=e.get("api_name")),e.has("method_name")&&(this.method_name=e.get("method_name")),e.has("page_name")&&(this.page_name=e.get("page_name")),e.has("page")&&(this.page=e.get("page")),e.has("limit")&&(this.limit=e.get("limit"))}async loadData(e){e=e.request.query.get(this.page_name,1);return this.page=e-1,this.reload()}async reload(){var e=await this.layout.sendApi(Runtime.Map.create({api_name:this.api_name,method_name:this.method_name,data:Runtime.Map.create({page:this.page,limit:this.limit,foreign_key:this.foreign_key})}));return e.isSuccess()&&e.data.has("items")&&this.table.setItems(e.data.get("items")),e}_init(){super._init(),this.table=null,this.foreign_key=null,this.api_name="",this.method_name="search",this.page_name="page",this.page=0,this.limit=10}static getClassName(){return"Runtime.Widget.Table.TableLoader"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Table.TableLoader"]=Runtime.Widget.Table.TableLoader,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableModel=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("items",new Runtime.Serializer.VectorType(e.params?e.params.get("item_type"):null)),e.setup.add((e,t)=>{e.item_type=t.params?t.params.get("item_type"):null})}assignRules(e){super.assignRules(e),this.item_type=e.params.get("item_type")}initParams(e){super.initParams(e)}setItems(e){var t=new Runtime.Serializer.VectorType(this.item_type);this.items=t.filter(e,Runtime.Vector.create([]))}_init(){super._init(),this.component="Runtime.Widget.Table.Table",this.items=Runtime.Vector.create([]),this.item_type=null}static getClassName(){return"Runtime.Widget.Table.TableModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Table.TableModel"]=Runtime.Widget.Table.TableModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Table&&(Runtime.Widget.Table={}),Runtime.Widget.Table.TableWrap={name:"Runtime.Widget.Table.TableWrap",extends:Runtime.Component,props:{table_fields:{default:Runtime.Vector.create([])},form_fields:{default:Runtime.Vector.create([])},dialog:{default:"true"}},methods:{renderTopButtons:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return this.slot("top_buttons")&&e.push(this.renderSlot("top_buttons")),e},renderDialog:function(){use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return"true"==this.dialog&&e.element("Runtime.Widget.Table.TableDialog",new Runtime.Map({model:this.model.dialog,manager:this.model})).slot("save",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var e=new Runtime.VirtualDom(this);return e.element("Runtime.Widget.Form.Form",new Runtime.Map({fields:this.form_fields,model:this.model.form})),e}),e},renderTableValue:function(e,t,i){use("Runtime.rs").getComponentHash(this.getClassName());var n=new Runtime.VirtualDom(this),s=t.get("name");return"row_number"==s?n.push(i+this.row_offset+1):t.has("slot")?n.push(this.renderSlot(t.get("slot"),Runtime.Vector.create([e,t,i]))):t.has("value")?n.push(Runtime.rtl.apply(t.get("value"),Runtime.Vector.create([e,t,i]))):n.push(e.get(s)),n},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),e=i.element("div",new Runtime.Map({class:e.className(["table_wrap",t])})),t=(e.push(this.renderTopButtons()),e.element("Runtime.Widget.Table.Table",new Runtime.Map({model:this.model.table})));return t.slot("header",()=>{use("Runtime.rs").getComponentHash(this.getClassName());var t=new Runtime.VirtualDom(this);for(let e=0;e<this.table_fields.count();e++){var i=this.table_fields.get(e);t.element("th").push(i.get("label"))}return t}),t.slot("row",(t,i)=>{use("Runtime.rs").getComponentHash(this.getClassName());var n=new Runtime.VirtualDom(this);for(let e=0;e<this.table_fields.count();e++){var s=this.table_fields.get(e);n.element("td").push(this.renderTableValue(t,s,i))}return n}),e.push(this.renderDialog()),i},getClassName:function(){return"Runtime.Widget.Table.TableWrap"}},computed:{row_offset:function(){return this.model.loader?this.model.loader.page*this.model.loader.limit:0}},getComponentStyle:function(){return".table_wrap.h-714c > .row_buttons{margin-bottom: calc(var(--space) * 2)}"},getRequiredComponents:function(){return new Runtime.Vector("Runtime.Widget.Form.Form","Runtime.Widget.Form.FormRow","Runtime.Widget.Table.Table","Runtime.Widget.Table.TableDialog")}},window["Runtime.Widget.Table.TableWrap"]=Runtime.Widget.Table.TableWrap,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tree&&(Runtime.Widget.Tree={}),Runtime.Widget.Tree.TreeItem=class extends Runtime.BaseObject{static serialize(e){super.serialize(e),e.addType("key",new Runtime.Serializer.StringType),e.addType("label",new Runtime.Serializer.StringType),e.addType("items",new Runtime.Serializer.VectorType(new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0,extends:"Runtime.Widget.Tree.TreeItem"}))))}assignRules(e){}constructor(e){null==e&&(e=null),super(),this._assign_values(e)}canDragInside(){return!0}get(e){var t;return null==e?null:0==e.count()?this:(t=e.first(),null==(t=this.items.get(t))?null:t.get(e.slice(1)))}find(e){return e?this.items.find(Runtime.lib.equal(e)):-1}onContextMenu(e){}onClick(e){}onSelect(e){}_init(){super._init(),this.key="",this.label="",this.open=!1,this.items=Runtime.Vector.create([])}static getClassName(){return"Runtime.Widget.Tree.TreeItem"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return["Runtime.SerializeInterface"]}},window["Runtime.Widget.Tree.TreeItem"]=Runtime.Widget.Tree.TreeItem,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tree&&(Runtime.Widget.Tree={}),Runtime.Widget.Tree.TreeMessage=class extends Runtime.Message{_init(){super._init()}static getClassName(){return"Runtime.Widget.Tree.TreeMessage"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Tree.TreeMessage"]=Runtime.Widget.Tree.TreeMessage,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tree&&(Runtime.Widget.Tree={}),Runtime.Widget.Tree.TreeModel=class extends Runtime.BaseModel{static serialize(e){super.serialize(e),e.addType("root",new Runtime.Serializer.ObjectType(Runtime.Map.create({autocreate:!0,extends:"Runtime.Widget.Tree.TreeItem"})))}initParams(e){super.initParams(e),null!=e&&(e.has("autoselect")&&(this.autoselect=e.get("autoselect")),e.has("dnd")&&(this.dnd=e.get("dnd")),e.has("icons"))&&(this.icons=e.get("icons"))}initWidget(e){super.initWidget(e),e.has("context_menu")&&(this.setContextMenu(e.get("context_menu")),e.has("context_menu_render"))&&(this.context_menu_render=e.get("context_menu_render"))}setContextMenu(e){e instanceof Runtime.Widget.ContextMenu.ContextMenuModel?(this.context_menu_render=!1,this.context_menu=e):e instanceof Runtime.Map&&(this.context_menu_render=!0,this.context_menu=this.createWidget("Runtime.Widget.ContextMenu.ContextMenuModel",e))}selectItem(e){var t=e?this.root.get(e):null;this.selected_item!=t&&(this.selected_path=e,this.selected_item=t,this.selected_item)&&this.selected_item.onSelect()}canDrag(e,t,i){e=new Runtime.Widget.Tree.TreeMessage(Runtime.Map.create({name:"canDrag",src:e,dest:t,src_item:this.root.get(e),dest_item:this.root.get(t),kind:i,result:!0}));return this.emit(e),e.result}dragElement(e,t,i){var n,s,r,a,o;0==t.count()&&(t=Runtime.Vector.create([this.root.items.count()-1])),this.canDrag(e,t,i)&&(n=this.root.get(e),s=this.root.get(t),n)&&s&&(r=e.slice(0,-1),t="into"!=i?t.slice(0,-1):t,r=this.root.get(r),a=this.root.get(t),r.items.removeItem(n),"into"==i?a.items.addItem(n,null,"before"):a.items.addItem(n,s,i),t=t.slice(),e.count()<=t.count()&&(o=e.count()-1,e.get(o)<t.get(o))&&t.set(o,t.get(o)-1),e=a.find(n),o=t.pushIm(e),this.emit(new Runtime.Widget.Tree.TreeMessage(Runtime.Map.create({name:"dragElement",dest_item:s,dest_parent_item:a,kind:i,src_item:n,src_parent_item:r,new_src_path:o}))))}_init(){super._init(),this.component="Runtime.Widget.Tree.TreeWidget",this.autoselect=!0,this.dnd=!1,this.icons=!0,this.is_open=!1,this.context_menu_render=!0,this.context_menu=null,this.selected_path=null,this.selected_item=null,this.root=null}static getClassName(){return"Runtime.Widget.Tree.TreeModel"}static getMethodsList(){return null}static getMethodInfoByName(e){return null}static getInterfaces(){return[]}},window["Runtime.Widget.Tree.TreeModel"]=Runtime.Widget.Tree.TreeModel,void 0===(Runtime="undefined"==typeof Runtime?{}:Runtime).Widget&&(Runtime.Widget={}),void 0===Runtime.Widget.Tree&&(Runtime.Widget.Tree={}),Runtime.Widget.Tree.TreeWidget={name:"Runtime.Widget.Tree.TreeWidget",extends:Runtime.Component,data:function(){return{dnd:null}},methods:{renderBox:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this);return this.dnd&&null!=this.drag_dest_box&&this.is_drag&&i.element("div",new Runtime.Map({class:e.className(["tree_widget__box","tree_widget__box--"+String(this.drag_dest_kind),t]),style:this.drag_dest_box})),i},renderItemLabel:function(e,t){var i=use("Runtime.rs"),n=i.getComponentHash(this.getClassName()),s=new Runtime.VirtualDom(this);return s.element("span",new Runtime.Map({class:i.className(["tree_widget__item_label",n]),onMousedown:this.hash(0)?this.hash(0):this.hash(0,e=>{this.onMouseDownItem(e,t)}),onContextmenu:this.hash(1)?this.hash(1):this.hash(1,e=>{this.onContextMenuItem(e,t)})})).push(e.label),s},renderItemContent:function(e,t){use("Runtime.rs").getComponentHash(this.getClassName());var i=new Runtime.VirtualDom(this);return i.push(this.renderItemLabel(e,t)),i},renderItem:function(e,t){var i=use("Runtime.rs"),n=i.getComponentHash(this.getClassName()),s=new Runtime.VirtualDom(this);return s.element("div",new Runtime.Map({class:i.className(["tree_widget__item",e==this.model.selected_item?"selected":"",n]),"data-path":Runtime.rs.join(".",t),key:"item."+String(Runtime.rs.join(".",t))+String("-")+String(e.key),onMousemove:this.hash(2)?this.hash(2):this.hash(2,e=>{this.onMouseMoveItem(e,t)})})).push(this.renderItemContent(e,t)),s.push(this.renderItems(e,t)),s},renderItems:function(t,i){var e=use("Runtime.rs"),n=e.getComponentHash(this.getClassName()),s=new Runtime.VirtualDom(this);if(null!=t&&null!=t.items&&0<t.items.count()){var r=0<i.count()?"item."+String(Runtime.rs.join(".",i))+String(".items"):"item",a=s.element("div",new Runtime.Map({class:e.className(["tree_widget__items",t.open?"":"hide",n]),key:r}));for(let e=0;e<t.items.count();e++)a.push(this.renderItem(t.items.get(e),i.concat(Runtime.Vector.create([e]))))}return s},render:function(){var e=use("Runtime.rs"),t=e.getComponentHash(this.getClassName()),i=new Runtime.VirtualDom(this),n=i.element("div",new Runtime.Map({class:e.className(["tree_widget",t]),"@ref":"widget",onContextmenu:this.hash(3)?this.hash(3):this.hash(3,e=>{this.onContextMenuItem(e)}),onMousedown:this.hash(4)?this.hash(4):this.hash(4,e=>{this.onMouseDown(e)}),onMouseup:this.hash(5)?this.hash(5):this.hash(5,e=>{this.onMouseUp(e)}),onMousemove:this.hash(6)?this.hash(6):this.hash(6,e=>{this.onMouseMove(e)})}));return n.push(this.renderBox()),n.element("div",new Runtime.Map({class:e.className(["tree_widget__content",t]),"@ref":"content"})).push(this.renderItems(this.model.root,Runtime.Vector.create([]))),this.model.context_menu&&this.model.context_menu_render&&i.push(this.renderWidget(this.model.context_menu)),i},showContextMenu:function(e){let t,i;i=this.model.context_menu_render?(t=e.layerX,e.layerY):(t=e.clientX,e.clientY),this.model.context_menu.show(t,i)},onContextMenuItem:function(e,t){return this.model.listener.emit(new Runtime.Widget.Tree.TreeMessage(Runtime.Map.create({name:"contextMenu",path:t,item:this.model.root.get(t),event:e}))),this.model.autoselect&&(this.model.selectItem(t),this.model.listener.emit(new Runtime.Widget.Tree.TreeMessage(Runtime.Map.create({kind:"context_menu",name:"selectItem",path:t,item:this.model.selected_item})))),this.model.context_menu&&this.showContextMenu(e),e.preventDefault(),e.stopPropagation(),!1},onMouseDownItem:function(e,t){if(0==e.button)return this.model.context_menu&&this.model.context_menu.hide(),this.model.autoselect&&this.model.selectItem(t),this.model.listener.emit(new Runtime.Widget.Tree.TreeMessage(Runtime.Map.create({kind:"click",name:"selectItem",path:t,item:this.model.root.get(t),event:e}))),this.dnd&&this.dnd.setStartDragItem(e),e.preventDefault(),e.stopPropagation(),!1},onMouseDown:function(e){this.model.context_menu&&this.model.context_menu.hide()},onMouseUp:function(e){this.dnd&&this.dnd.stopDrag()},onMouseMoveItem:function(e,t){this.dnd&&this.dnd.onMouseMoveItem(e,t)},onMouseMove:function(e){this.dnd&&this.dnd.onMouseMove(e)},getClassName:function(){return"Runtime.Widget.Tree.TreeWidget"}},getComponentStyle:function(){return".tree_widget.h-fd25{position: relative;height: 100%}.tree_widget__items.h-fd25 > .tree_widget__items{padding-left: 10px}.tree_widget__items.hide.h-fd25{display: none}.tree_widget__item_label.h-fd25{display: inline-block;padding: 5px;cursor: pointer;user-select: none}.tree_widget__item.selected.h-fd25 > .tree_widget__item_label{background-color: var(--color-primary);color: var(--color-primary-text)}.tree_widget__box.h-fd25{position: absolute;border-style: solid;border-width: 0;border-color: transparent}.tree_widget__box--into.h-fd25{background-color: rgba(255, 0, 0, 0.5);pointer-events: none}.tree_widget__box--before.h-fd25, .tree_widget__box--after.h-fd25{border-top-width: 2px;border-top-color: red}"},getRequiredComponents:function(){return new Runtime.Vector}},window["Runtime.Widget.Tree.TreeWidget"]=Runtime.Widget.Tree.TreeWidget;